{"ast":null,"code":"import _regeneratorRuntime from\"/Users/mateusdavila/Desktop/code/intercambio/front/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/mateusdavila/Desktop/code/intercambio/front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/mateusdavila/Desktop/code/intercambio/front/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from'react';import LastArticles from'../../components/blog/LastArticles';import ListArticles from'../../components/blog/ListArticles';import ListCategory from'../../components/blog/ListCategory';import Seach from'../../components/search/Seach';import Api from'../../axios/Axios';import'./BlogPage.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Blog=function Blog(){var _useState=useState(undefined),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var token='';var local=localStorage.getItem('token');var session=sessionStorage.getItem('token');if(!session){if(!local){window.location.href='/login';}else{token=local;sessionStorage.setItem('token',local);}}else{token=session;}useEffect(function(){getOptions();function getOptions(){return _getOptions.apply(this,arguments);}function _getOptions(){_getOptions=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var config;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:config={headers:{Authorization:\"Bearer \".concat(token)}};_context.next=3;return Api.get('/user/useroptions',config).then(function(data){if(!data.data[0]){window.location.href='/createuseroptions';}else{setUser(data.data[0]);}});case 3:case\"end\":return _context.stop();}}},_callee);}));return _getOptions.apply(this,arguments);}},[]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"blog-page\",children:[/*#__PURE__*/_jsx(Seach,{}),/*#__PURE__*/_jsx(ListCategory,{}),/*#__PURE__*/_jsx(ListArticles,{user:user})]})});};export default Blog;","map":{"version":3,"names":["useState","useEffect","LastArticles","ListArticles","ListCategory","Seach","Api","Blog","undefined","user","setUser","token","local","localStorage","getItem","session","sessionStorage","window","location","href","setItem","getOptions","config","headers","Authorization","get","then","data"],"sources":["/Users/mateusdavila/Desktop/code/intercambio/front/src/pages/blog/Blog.js"],"sourcesContent":["import {useState, useEffect} from 'react'\nimport LastArticles from '../../components/blog/LastArticles'\nimport ListArticles from '../../components/blog/ListArticles'\nimport ListCategory from '../../components/blog/ListCategory'\nimport Seach from '../../components/search/Seach'\nimport Api from '../../axios/Axios'\nimport './BlogPage.css'\nconst Blog = () => {\n\n\n\n  const [user,setUser] = useState(undefined)\n  let token = ''\n\n  const local = localStorage.getItem('token');\n  const session = sessionStorage.getItem('token');\n  if(!session){\n      if(!local){\n          window.location.href = '/login'\n      } else{\n        token = local\n          sessionStorage.setItem('token',local)\n      }\n  } else{\n    token = session\n\n\n\n    \n  }\n\n\n\n  useEffect(()=>{\n\n      getOptions()\n      async function getOptions(){\n        const config = {\n          headers: { Authorization: `Bearer ${token}` }\n      };\n        await Api.get('/user/useroptions', config).then((data)=>{\n          if(!data.data[0]){\n            window.location.href = '/createuseroptions'\n          } else{\n            setUser(data.data[0])\n\n          }\n        })\n      }\n    },[])\n\n  return (\n    <>  \n\n    <div className='blog-page'>\n        <Seach/>\n        <ListCategory/>\n        <ListArticles user={user}/>\n    </div>\n</>\n  )\n}\n\nexport default Blog"],"mappings":"waAAA,OAAQA,QAAR,CAAkBC,SAAlB,KAAkC,OAAlC,CACA,MAAOC,aAAP,KAAyB,oCAAzB,CACA,MAAOC,aAAP,KAAyB,oCAAzB,CACA,MAAOC,aAAP,KAAyB,oCAAzB,CACA,MAAOC,MAAP,KAAkB,+BAAlB,CACA,MAAOC,IAAP,KAAgB,mBAAhB,CACA,MAAO,gBAAP,C,6IACA,GAAMC,KAAI,CAAG,QAAPA,KAAO,EAAM,CAIjB,cAAuBP,QAAQ,CAACQ,SAAD,CAA/B,wCAAOC,IAAP,eAAYC,OAAZ,eACA,GAAIC,MAAK,CAAG,EAAZ,CAEA,GAAMC,MAAK,CAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd,CACA,GAAMC,QAAO,CAAGC,cAAc,CAACF,OAAf,CAAuB,OAAvB,CAAhB,CACA,GAAG,CAACC,OAAJ,CAAY,CACR,GAAG,CAACH,KAAJ,CAAU,CACNK,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAuB,QAAvB,CACH,CAFD,IAEM,CACJR,KAAK,CAAGC,KAAR,CACEI,cAAc,CAACI,OAAf,CAAuB,OAAvB,CAA+BR,KAA/B,EACH,CACJ,CAPD,IAOM,CACJD,KAAK,CAAGI,OAAR,CAKD,CAIDd,SAAS,CAAC,UAAI,CAEVoB,UAAU,GAFA,QAGKA,WAHL,0IAGV,gJACQC,MADR,CACiB,CACbC,OAAO,CAAE,CAAEC,aAAa,kBAAYb,KAAZ,CAAf,CADI,CADjB,uBAIQL,IAAG,CAACmB,GAAJ,CAAQ,mBAAR,CAA6BH,MAA7B,EAAqCI,IAArC,CAA0C,SAACC,IAAD,CAAQ,CACtD,GAAG,CAACA,IAAI,CAACA,IAAL,CAAU,CAAV,CAAJ,CAAiB,CACfV,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAuB,oBAAvB,CACD,CAFD,IAEM,CACJT,OAAO,CAACiB,IAAI,CAACA,IAAL,CAAU,CAAV,CAAD,CAAP,CAED,CACF,CAPK,CAJR,uDAHU,6CAgBX,CAhBM,CAgBL,EAhBK,CAAT,CAkBA,mBACE,sCAEA,aAAK,SAAS,CAAC,WAAf,wBACI,KAAC,KAAD,IADJ,cAEI,KAAC,YAAD,IAFJ,cAGI,KAAC,YAAD,EAAc,IAAI,CAAElB,IAApB,EAHJ,GAFA,EADF,CAUD,CAtDD,CAwDA,cAAeF,KAAf"},"metadata":{},"sourceType":"module"}