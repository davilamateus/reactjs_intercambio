{"ast":null,"code":"import _regeneratorRuntime from\"/Users/mateusdavila/Desktop/code/intercambio/front/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/mateusdavila/Desktop/code/intercambio/front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/mateusdavila/Desktop/code/intercambio/front/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from'react';import'./Article.css';import Api from'../../axios/Axios';import{useParams}from'react-router-dom';import{Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ListArticles=function ListArticles(_ref){var user=_ref.user;var params=useParams();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),articles=_useState2[0],setArticles=_useState2[1];var article=params.article;var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),btnNext=_useState4[0],setBtnNext=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),btnBack=_useState6[0],setBtnBack=_useState6[1];var intervals=[{label:'ano',seconds:31536000},{label:'mês',seconds:2592000},{label:'dia',seconds:86400},{label:'hora',seconds:3600},{label:'minuto',seconds:60},{label:'segundo',seconds:1}];function timeSince(date){var seconds=Math.floor((Date.now()-date.getTime())/1000);var interval=intervals.find(function(i){return i.seconds<seconds;});var count=Math.floor(seconds/interval.seconds);return\"\".concat(count,\" \").concat(interval.label).concat(count!==1?'s':'',\" atr\\xE1s.\");}//console.log(timeSince())\nuseEffect(function(){setBtnNext(false);if(user!==undefined){if(article!==undefined){var getArticle=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return Api.get(\"/blog/article?article=\".concat(article)).then(function(data){setArticles([data.data]);});case 2:case\"end\":return _context.stop();}}},_callee);}));return function getArticle(){return _ref2.apply(this,arguments);};}();getArticle();}}},[user,params]);function loadingMoreArticleBtn(){window.scrollTo(0,document.body.scrollHeight||document.documentElement.scrollHeight);topFunction();}function topFunction(){document.body.scrollTop=0;document.documentElement.scrollTop=0;}return/*#__PURE__*/_jsx(\"div\",{children:articles.length>0?/*#__PURE__*/_jsxs(\"div\",{className:\"article-page\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"article-poster-big\",style:{backgroundImage:\"url(\".concat(articles[0].img,\")\")}}),/*#__PURE__*/_jsxs(\"div\",{className:\"article-page-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"article-page-top\",children:[/*#__PURE__*/_jsx(Link,{to:\"/blog/category/\".concat(articles[0].category.id),children:/*#__PURE__*/_jsx(\"h5\",{className:\"article-page-category\",children:articles[0].category.title})}),/*#__PURE__*/_jsxs(\"div\",{className:\"article-time-solo\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"./../../../img/icons/icontime.svg\"}),/*#__PURE__*/_jsx(\"p\",{className:\"princial-article-time\",children:timeSince(new Date(articles[0].createdAt))})]})]}),/*#__PURE__*/_jsx(\"h2\",{className:\"princial-article-title-solo\",children:articles[0].title}),/*#__PURE__*/_jsx(\"p\",{className:\"principal-article-description\",children:articles[0].description})]})]}):''});};export default ListArticles;","map":{"version":3,"names":["useEffect","useState","Api","useParams","Link","ListArticles","user","params","articles","setArticles","article","btnNext","setBtnNext","btnBack","setBtnBack","intervals","label","seconds","timeSince","date","Math","floor","Date","now","getTime","interval","find","i","count","undefined","getArticle","get","then","data","loadingMoreArticleBtn","window","scrollTo","document","body","scrollHeight","documentElement","topFunction","scrollTop","length","backgroundImage","img","category","id","title","createdAt","description"],"sources":["/Users/mateusdavila/Desktop/code/intercambio/front/src/components/blog/Article.js"],"sourcesContent":["import {useEffect, useState} from 'react'\nimport './Article.css'\nimport Api from '../../axios/Axios'\nimport { useParams } from 'react-router-dom'\nimport { Link } from 'react-router-dom'\n\n\nconst ListArticles = ({user}) => {\n\n    let params = useParams()\n    const [articles, setArticles] = useState([]);\n\n    const article= params.article;\n    const [btnNext ,setBtnNext] = useState(false)\n    const [btnBack ,setBtnBack] = useState(false)\n\n    \n\n    const intervals = [\n      { label: 'ano', seconds: 31536000 },\n      { label: 'mês', seconds: 2592000 },\n      { label: 'dia', seconds: 86400 },\n      { label: 'hora', seconds: 3600 },\n      { label: 'minuto', seconds: 60 },\n      { label: 'segundo', seconds: 1 }\n    ];\n    \n    function timeSince(date) {\n      const seconds = Math.floor((Date.now() - date.getTime()) / 1000);\n      const interval = intervals.find(i => i.seconds < seconds);\n      const count = Math.floor(seconds / interval.seconds);\n      return `${count} ${interval.label}${count !== 1 ? 's' : ''} atrás.`;\n    }\n\n    //console.log(timeSince())\n\n\n\n\n      \n\n      useEffect(()=>{\n        setBtnNext(false)\n        if(user!==undefined){\n\n\n          if(article !== undefined){\n            async function getArticle(){\n              await Api.get(`/blog/article?article=${article}`)\n                  .then((data)=>{\n                    setArticles([data.data])\n                  })\n                }\n                getArticle()\n\n          } \n  }\n    },[user, params])  \n    \n    \n    function loadingMoreArticleBtn(){\n\n      window.scrollTo(0, document.body.scrollHeight || document.documentElement.scrollHeight);\n\n    \n      topFunction()\n\n    }\n\n\n\n\nfunction topFunction() {\n  document.body.scrollTop = 0; \n  document.documentElement.scrollTop = 0; \n}\n\nreturn (\n  <div >\n                {articles.length> 0 ? \n                  <div  className='article-page'>\n\n                      <div className='article-poster-big' style={{backgroundImage:`url(${articles[0].img})`}} >\n\n                      </div>\n\n                      <div className=\"article-page-container\">\n                        <div className=\"article-page-top\">\n                            <Link to={`/blog/category/${articles[0].category.id}`}>\n                              <h5 className=\"article-page-category\">{articles[0].category.title}</h5>\n                            </Link>\n                              <div className=\"article-time-solo\">\n                                  <img src=\"./../../../img/icons/icontime.svg\" />\n                                  <p className=\"princial-article-time\">{timeSince(new Date(articles[0].createdAt))}</p>\n\n                              </div>\n\n                        </div>\n                          <h2 className=\"princial-article-title-solo\">{articles[0].title}</h2>\n\n                          <p className=\"principal-article-description\">{articles[0].description}</p>\n\n                      </div>\n                  </div>\n                \n           \n\n                \n          \n            :''\n          }\n\n    </div>\n    \n  )\n}\n\nexport default ListArticles"],"mappings":"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"},"metadata":{},"sourceType":"module"}