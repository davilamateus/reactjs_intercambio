{"ast":null,"code":"import _regeneratorRuntime from\"/Users/mateusdavila/Desktop/code/intercambio/front/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/mateusdavila/Desktop/code/intercambio/front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/mateusdavila/Desktop/code/intercambio/front/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useParams}from'react-router-dom';import Api from'../../axios/Axios';import{useState,useEffect}from'react';import'./confirmEmail.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ConfirmEmail=function ConfirmEmail(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),emailValided=_useState2[0],setEmailValided=_useState2[1];var _useParams=useParams(),token=_useParams.token;useEffect(function(){setTimeout(function(){window.location.href='/login';},5000);function loadToken(){return _loadToken.apply(this,arguments);}function _loadToken(){_loadToken=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var customConfig,res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:customConfig={headers:{'Content-Type':'application/json'}};_context.next=3;return Api.get(\"/email/email-confirm/\".concat(token),customConfig).then(function(data){console.log(data.status);if(data.status===200){{setEmailValided(true);}}});case 3:res=_context.sent;case 4:case\"end\":return _context.stop();}}},_callee);}));return _loadToken.apply(this,arguments);}setTimeout(function(){console.log(token);loadToken();},1000);},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"confirm-email-page\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"../../../img/3dperson2.png\",alt:\"Imagen Person 3D\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"message-confirmEmail\",children:[/*#__PURE__*/_jsx(\"h2\",{children:emailValided===true?'Oba! O seu email foi confirmado.':'Ops! Ocorreu algum erro!'}),/*#__PURE__*/_jsx(\"p\",{children:emailValided===true?'Seu email foi confirmado e você será redirecionado para a página de login em 5 segundos!':'Ocorreu algum erro com a validação e você será redirecionado para a página de login em 5 segundos!'})]})]});};export default ConfirmEmail;","map":{"version":3,"names":["useParams","Api","useState","useEffect","ConfirmEmail","emailValided","setEmailValided","token","setTimeout","window","location","href","loadToken","customConfig","headers","get","then","data","console","log","status","res"],"sources":["/Users/mateusdavila/Desktop/code/intercambio/front/src/pages/confirm-email/confirmEmail.js"],"sourcesContent":["import {useParams} from 'react-router-dom'\nimport Api from '../../axios/Axios'\nimport { useState, useEffect } from 'react'\nimport './confirmEmail.css'\n\n\n\nconst ConfirmEmail = () => {\n\n    const [emailValided, setEmailValided] = useState(false)\n    \n    const {token} = useParams()\n    useEffect(()=>{\n        setTimeout(() => {\n            window.location.href = '/login'\n            \n        }, 5000);\n        async function loadToken(){\n            const customConfig = {\n                headers: {\n                    'Content-Type': 'application/json'\n                }\n            };\n            const res = await Api.get(`/email/email-confirm/${token}`,customConfig).then((data)=>{\n                console.log(data.status)\n                if(data.status === 200){{\n                    setEmailValided(true)\n                }}\n            })\n        }\n        setTimeout(() => {\n            console.log(token)\n            loadToken()\n            \n        }, 1000);\n    },[])\n\n\n\n\n  return (\n    <div className='confirm-email-page'>\n        <img src=\"../../../img/3dperson2.png\" alt=\"Imagen Person 3D\" />\n        <div className=\"message-confirmEmail\">\n            <h2>{emailValided === true? 'Oba! O seu email foi confirmado.':'Ops! Ocorreu algum erro!'}</h2>\n            <p>{emailValided === true? 'Seu email foi confirmado e você será redirecionado para a página de login em 5 segundos!':\n            'Ocorreu algum erro com a validação e você será redirecionado para a página de login em 5 segundos!'}</p>\n        </div>\n    </div>\n  )\n}\n\nexport default ConfirmEmail"],"mappings":"waAAA,OAAQA,SAAR,KAAwB,kBAAxB,CACA,MAAOC,IAAP,KAAgB,mBAAhB,CACA,OAASC,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CACA,MAAO,oBAAP,C,wFAIA,GAAMC,aAAY,CAAG,QAAfA,aAAe,EAAM,CAEvB,cAAwCF,QAAQ,CAAC,KAAD,CAAhD,wCAAOG,YAAP,eAAqBC,eAArB,eAEA,eAAgBN,SAAS,EAAzB,CAAOO,KAAP,YAAOA,KAAP,CACAJ,SAAS,CAAC,UAAI,CACVK,UAAU,CAAC,UAAM,CACbC,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAuB,QAAvB,CAEH,CAHS,CAGP,IAHO,CAAV,CADU,QAKKC,UALL,uIAKV,0JACUC,YADV,CACyB,CACjBC,OAAO,CAAE,CACL,eAAgB,kBADX,CADQ,CADzB,uBAMsBb,IAAG,CAACc,GAAJ,gCAAgCR,KAAhC,EAAwCM,YAAxC,EAAsDG,IAAtD,CAA2D,SAACC,IAAD,CAAQ,CACjFC,OAAO,CAACC,GAAR,CAAYF,IAAI,CAACG,MAAjB,EACA,GAAGH,IAAI,CAACG,MAAL,GAAgB,GAAnB,CAAuB,CAAC,CACpBd,eAAe,CAAC,IAAD,CAAf,CACH,CAAC,CACL,CALiB,CANtB,QAMUe,GANV,qEALU,4CAkBVb,UAAU,CAAC,UAAM,CACbU,OAAO,CAACC,GAAR,CAAYZ,KAAZ,EACAK,SAAS,GAEZ,CAJS,CAIP,IAJO,CAAV,CAKH,CAvBQ,CAuBP,EAvBO,CAAT,CA4BF,mBACE,aAAK,SAAS,CAAC,oBAAf,wBACI,YAAK,GAAG,CAAC,4BAAT,CAAsC,GAAG,CAAC,kBAA1C,EADJ,cAEI,aAAK,SAAS,CAAC,sBAAf,wBACI,oBAAKP,YAAY,GAAK,IAAjB,CAAuB,kCAAvB,CAA0D,0BAA/D,EADJ,cAEI,mBAAIA,YAAY,GAAK,IAAjB,CAAuB,0FAAvB,CACJ,oGADA,EAFJ,GAFJ,GADF,CAUD,CA3CD,CA6CA,cAAeD,aAAf"},"metadata":{},"sourceType":"module"}