{"ast":null,"code":"import _regeneratorRuntime from\"/Users/mateusdavila/Desktop/code/intercambio/front/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/mateusdavila/Desktop/code/intercambio/front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/mateusdavila/Desktop/code/intercambio/front/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect,useRef}from'react';import Chart from'chart.js/auto';import'./Money.css';import Skeleton,{SkeletonTheme}from'react-loading-skeleton';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var MoneyChart=function MoneyChart(_ref){var days=_ref.days,setMoney=_ref.setMoney;var _useState=useState(undefined),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState('#9dc3660d'),_useState4=_slicedToArray(_useState3,2),color=_useState4[0],setColor=_useState4[1];var _useState5=useState('#9DC366'),_useState6=_slicedToArray(_useState5,2),colorBorder=_useState6[0],setColorBorder=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),loading=_useState8[0],setLoading=_useState8[1];useEffect(function(){function requestApi(){return _requestApi.apply(this,arguments);}function _requestApi(){_requestApi=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var api;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:api=\"https://economia.awesomeapi.com.br/json/daily/EUR-BRL/32\";fetch(api).then(function(response){return response.json();}).then(function(result){setData(result);setLoading(true);}).catch(function(error){setTimeout(function(){setData(undefined);requestApi();console.log('Try Again');},5000);});case 2:case\"end\":return _context.stop();}}},_callee);}));return _requestApi.apply(this,arguments);}requestApi();},[]);var labels=[];var results=[];useEffect(function(){if(data!==undefined){setMoney(data[0].ask);if(days==7){labels=['7 dias atrás','6 dias atrás','5 dias atrás','4 dias atrás','3 dias atrás','2 dias atrás','Ontem','Hoje'];results=[data[7].ask,data[6].ask,data[5].ask,data[4].ask,data[3].ask,data[2].ask,data[1].ask,data[0].ask];}if(days==15){labels=['15 dias atrás','11 dias atrás','9 dias atrás','5 dias atrás','3 dias atrás','Hoje'];results=[data[14].ask,data[11].ask,data[9].ask,data[5].ask,data[2].ask,data[0].ask];}if(days==30){labels=['30 dias atrás','27 dias atrás','23 dias atrás','17 dias atrás','13 dias atrás','8 dias atrás','5 dias atrás','Hoje'];results=[data[30].ask,data[27].ask,data[23].ask,data[19].ask,data[14].ask,data[9].ask,data[4].ask,data[0].ask];}}var ctx=document.getElementById('chart');if(data!==undefined&&labels.length>0){var chartStatus=Chart.getChart(\"chart\");// <canvas> id\nif(chartStatus!=undefined){chartStatus.destroy();}var myChart=new Chart(ctx,{type:'line',data:{labels:labels,datasets:[{label:\"EUR\",display:true,data:results,pointRadius:3,backgroundColor:[\"\".concat(color)],borderColor:colorBorder,borderWidth:4,tension:0.4}]},options:{fill:true,options:{aspectRatio:1//(width/height)\n},plugins:{labels:{display:false},legend:{display:false}},scales:{y:{display:true},x:{display:true}}},responsive:true,maintainAspectRatio:false,scales:{yAxes:[{ticks:{beginAtZero:true,stepSize:1}}]}});}},[data]);useEffect(function(){if(data!==undefined){if(days==7){if(data[0].ask<data[1].ask){setColor('#9dc3660d');setColorBorder('#9DC366');}else{setColor('#FA385F0a');setColorBorder('#FA3850');}}if(days==15){if(data[0].ask<data[2].ask){setColor('#9dc3660d');setColorBorder('#9DC366');}else{setColor('#FA385F0a');setColorBorder('#FA3850');}}if(days==30){if(data[0].ask<data[4].ask){setColor('#9dc3660d');setColorBorder('#9DC366');}else{setColor('#FA385F0a');setColorBorder('#FA3850');}}}},[data]);return/*#__PURE__*/_jsx(\"div\",{className:\"\",children:loading==true?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"moneyFullChar-Box\",children:/*#__PURE__*/_jsx(\"canvas\",{id:\"chart\",width:\"100px\",height:\"50px\"})})}):/*#__PURE__*/_jsxs(SkeletonTheme,{baseColor:\"var(--8)\",highlightColor:\"var(--11)\",children:[/*#__PURE__*/_jsx(Skeleton,{style:{width:'110px',height:'20px',margin:'10px'}}),/*#__PURE__*/_jsx(Skeleton,{style:{width:'130px',height:'30px',margin:'0px 10px'}}),/*#__PURE__*/_jsx(Skeleton,{style:{width:'310px',height:'80px',margin:'10px 0px 0px 0px',opacity:'0.4'}})]})});};export default MoneyChart;","map":{"version":3,"names":["useState","useEffect","useRef","Chart","Skeleton","SkeletonTheme","MoneyChart","days","setMoney","undefined","data","setData","color","setColor","colorBorder","setColorBorder","loading","setLoading","requestApi","api","fetch","then","response","json","result","catch","error","setTimeout","console","log","labels","results","ask","ctx","document","getElementById","length","chartStatus","getChart","destroy","myChart","type","datasets","label","display","pointRadius","backgroundColor","borderColor","borderWidth","tension","options","fill","aspectRatio","plugins","legend","scales","y","x","responsive","maintainAspectRatio","yAxes","ticks","beginAtZero","stepSize","width","height","margin","opacity"],"sources":["/Users/mateusdavila/Desktop/code/intercambio/front/src/components/money/MoneyChart.js"],"sourcesContent":["import {useState, useEffect,useRef}from 'react'\nimport Chart from 'chart.js/auto';\nimport './Money.css'\nimport Skeleton, { SkeletonTheme } from 'react-loading-skeleton'\n\n\n\nconst MoneyChart = ({days ,setMoney}) => {\n  const [data,setData ]= useState(undefined);\n  const [color,setColor] = useState('#9dc3660d')\n  const [colorBorder,setColorBorder] = useState('#9DC366')\n  const [loading,setLoading] = useState(false)\n\n  useEffect(()=>{\n    async function requestApi () {\n      let  api = \"https://economia.awesomeapi.com.br/json/daily/EUR-BRL/32\"\n      fetch(api).then(response => response.json()).then((result) => \n      {setData(result) \n            setLoading(true)}\n            )\n            .catch((error)=>{\n              setTimeout(() => {\n                setData(undefined)\n                  requestApi()\n                  console.log('Try Again')\n              }, 5000);\n          })\n    }\n    requestApi()\n  },[])\n  \n  \n  let labels = []\n  let results = []\n\n  useEffect(()=>{\n    if(data !== undefined){\n      setMoney((data[0].ask))\n      if(days==7){\n       labels = ['7 dias atrás', '6 dias atrás', '5 dias atrás', '4 dias atrás', '3 dias atrás', '2 dias atrás', 'Ontem', 'Hoje']\n       results = [ data[7].ask, data[6].ask, data[5].ask, data[4].ask, data[3].ask, data[2].ask, data[1].ask, data[0].ask]\n      }\n      if(days==15){\n        labels = ['15 dias atrás', '11 dias atrás', '9 dias atrás', '5 dias atrás', '3 dias atrás', 'Hoje']\n        results = [  data[14].ask, data[11].ask, data[9].ask, data[5].ask, data[2].ask, data[0].ask]\n       }\n       if(days==30){\n        labels = ['30 dias atrás', '27 dias atrás', '23 dias atrás', '17 dias atrás', '13 dias atrás', '8 dias atrás', '5 dias atrás', 'Hoje']\n        results = [ data[30].ask, data[27].ask, data[23].ask, data[19].ask, data[14].ask, data[9].ask, data[4].ask, data[0].ask]\n       }\n\n    }\n\n  \n\n    const ctx = document.getElementById('chart');\n\n      if(data!== undefined && labels.length>0){\n\n        let chartStatus = Chart.getChart(\"chart\"); // <canvas> id\n        if (chartStatus != undefined) {\n          chartStatus.destroy();\n        }\n\n    \n\n        const myChart = new Chart(ctx, {\n          type: 'line',\n          data: {\n              labels: labels,\n              datasets: [{\n                  label: \"EUR\",\n                  display: true,\n                  data: results,\n                  pointRadius: 3,\n                  backgroundColor: [\n                    `${color}`\n                    ],\n                  borderColor: colorBorder,\n                  borderWidth: 4,\n                  tension: 0.4, \n              }]\n          },\n          options: {\n              fill: true,\n              options:{\n                aspectRatio:1 //(width/height)\n          },\n              plugins: {\n                  labels: {\n                      display: false,\n                  },\n                  legend: {\n                      display: false,\n                  },\n              },\n              scales: {\n                  y: {\n                      display: true,                     \n                  },\n                  x: {\n                      display: true  ,\n                  }\n                      \n              }\n          },\n          responsive: true,\n          maintainAspectRatio: false,\n          scales: {\n              yAxes: [{\n                  ticks: {\n                      beginAtZero:true,\n                      stepSize: 1\n                  }\n              }]\n          }\n      });\n           \n      }\n    \n    },[data])\n  \n  \n\n\n  useEffect(()=>{\n\n    if(data !==undefined){\n\n      if(days ==7){\n        if(data[0].ask<data[1].ask){\n          setColor('#9dc3660d')\n          setColorBorder('#9DC366')\n  \n        } else{\n          setColor('#FA385F0a')\n          setColorBorder('#FA3850')\n        }\n\n      }\n\n      if(days ==15){\n        if(data[0].ask<data[2].ask){\n          setColor('#9dc3660d')\n          setColorBorder('#9DC366')\n  \n        } else{\n          setColor('#FA385F0a')\n          setColorBorder('#FA3850')\n        }\n\n      }\n\n      if(days ==30){\n        if(data[0].ask<data[4].ask){\n          setColor('#9dc3660d')\n          setColorBorder('#9DC366')\n  \n        } else{\n          setColor('#FA385F0a')\n          setColorBorder('#FA3850')\n        }\n\n      }\n\n          \n  }\n  },[data])\n\n\n\n\n\n\n\n\n  return (\n    <div className=''>\n\n      {loading == true? \n          <>\n\n            <div className='moneyFullChar-Box'>\n\n               <canvas id=\"chart\" width=\"100px\" height=\"50px\"></canvas>\n\n\n            </div>\n            </>\n        :\n        <SkeletonTheme baseColor=\"var(--8)\" highlightColor=\"var(--11)\">\n            <Skeleton style={{width:'110px',height:'20px',margin:'10px'}}/>\n            <Skeleton style={{width:'130px',height:'30px',margin:'0px 10px'}}/>\n            <Skeleton style={{width:'310px',height:'80px',margin:'10px 0px 0px 0px',opacity:'0.4'}}/>\n\n          </SkeletonTheme>\n        \n        }\n    </div>\n  )\n}\n\nexport default MoneyChart"],"mappings":"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"},"metadata":{},"sourceType":"module"}