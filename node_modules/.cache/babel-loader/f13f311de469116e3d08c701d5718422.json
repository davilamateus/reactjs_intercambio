{"ast":null,"code":"import _regeneratorRuntime from\"/Users/mateusdavila/Desktop/code/intercambio/front/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/mateusdavila/Desktop/code/intercambio/front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/mateusdavila/Desktop/code/intercambio/front/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from'react';import'./AddToDoList.css';import Api from'../../axios/Axios';import Messages from'../messages/Messages';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AddToDoList=function AddToDoList(_ref){var refresh=_ref.refresh,closeAdd=_ref.closeAdd;var _useState=useState(4),_useState2=_slicedToArray(_useState,2),category=_useState2[0],setCategory=_useState2[1];var _useState3=useState(1),_useState4=_slicedToArray(_useState3,2),status=_useState4[0],setStatus=_useState4[1];var _useState5=useState(undefined),_useState6=_slicedToArray(_useState5,2),title=_useState6[0],setTitle=_useState6[1];var _useState7=useState(undefined),_useState8=_slicedToArray(_useState7,2),description=_useState8[0],setDescription=_useState8[1];var _useState9=useState({}),_useState10=_slicedToArray(_useState9,2),message=_useState10[0],setMessage=_useState10[1];function closeMessage(){setMessage({});}var config={headers:{Authorization:\"Bearer \".concat(sessionStorage.getItem('token'))}};function addToDoList(){return _addToDoList.apply(this,arguments);}function _addToDoList(){_addToDoList=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var body;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(title!==undefined&&description!==undefined)){_context.next=6;break;}body={status:status,title:title,description:description,category:category};_context.next=4;return Api.post('/user/todolist/',body,config).then(function(){refresh();closeAdd();});case 4:_context.next=7;break;case 6:setMessage({title:'Email não verificado!',text:'Enviamos novamente um email com o link para verificação, por favor acesse o seu email.',status:'atention',action:'Fechar'});case 7:case\"end\":return _context.stop();}}},_callee);}));return _addToDoList.apply(this,arguments);}function btnEdit(_x){return _btnEdit.apply(this,arguments);}function _btnEdit(){_btnEdit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(id){var body;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!(title!==undefined&&description!==undefined)){_context2.next=6;break;}body={id:id,status:status,title:title,description:description,category:category};_context2.next=4;return Api.patch('/user/todolist/',body,config);case 4:_context2.next=7;break;case 6:setMessage({title:'Email não verificado!',text:'Enviamos novamente um email com o link para verificação, por favor acesse o seu email.',status:'atention',action:'Fechar'});case 7:case\"end\":return _context2.stop();}}},_callee2);}));return _btnEdit.apply(this,arguments);}return/*#__PURE__*/_jsxs(\"div\",{className:\"add-todolist-div\",children:[/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){closeAdd();},className:\"add-bg-degrade\"}),message.title!==undefined?/*#__PURE__*/_jsx(Messages,{title:message.title,text:message.text,action:message.action,status:message.status,closeMessage:closeMessage}):'',/*#__PURE__*/_jsx(\"div\",{className:\"add-todolist\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"add-todolist-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"add-todolist-configs\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Titulo\"}),/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){setTitle(e.target.value);},type:\"text\",placeholder:\"Digite o titulo da sua tarefa.\"}),/*#__PURE__*/_jsx(\"h5\",{children:\"Categoria\"}),/*#__PURE__*/_jsxs(\"select\",{onChange:function onChange(e){setCategory(e.target.value);},children:[/*#__PURE__*/_jsx(\"option\",{value:4,children:\"Outros\"}),/*#__PURE__*/_jsx(\"option\",{value:2,children:\"Documentos\"}),/*#__PURE__*/_jsx(\"option\",{value:3,children:\"Sa\\xFAde\"}),/*#__PURE__*/_jsx(\"option\",{value:1,children:\"Compras\"})]}),/*#__PURE__*/_jsx(\"h5\",{children:\"Status\"}),/*#__PURE__*/_jsx(\"div\",{className:\"add-todolist-status-btns\",children:/*#__PURE__*/_jsxs(\"select\",{onChange:function onChange(e){setStatus(e.target.value);},children:[/*#__PURE__*/_jsx(\"option\",{value:1,children:\"Aberto\"}),/*#__PURE__*/_jsx(\"option\",{value:2,children:\"Em Progreso\"}),/*#__PURE__*/_jsx(\"option\",{value:3,children:\"Finalizado\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"add-todolist-description\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Descri\\xE7\\xE3o\"}),/*#__PURE__*/_jsx(\"textarea\",{onChange:function onChange(e){setDescription(e.target.value);},placeholder:\"Digite aqui a descri\\xE7\\xE3o da tarefa\",cols:\"0\",rows:\"7\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){addToDoList();},className:\"btn-add\",children:\"Salvar\"})]})]})})]});};export default AddToDoList;","map":{"version":3,"names":["useEffect","useState","Api","Messages","AddToDoList","refresh","closeAdd","category","setCategory","status","setStatus","undefined","title","setTitle","description","setDescription","message","setMessage","closeMessage","config","headers","Authorization","sessionStorage","getItem","addToDoList","body","post","then","text","action","btnEdit","id","patch","e","target","value"],"sources":["/Users/mateusdavila/Desktop/code/intercambio/front/src/components/toDoList/AddToDoList.js"],"sourcesContent":["import {useEffect, useState} from 'react'\nimport './AddToDoList.css'\nimport Api from '../../axios/Axios' \nimport Messages from '../messages/Messages'\n\n\n\nconst AddToDoList = ({refresh, closeAdd}) => {\n\n    const [category, setCategory] = useState(4) \n    const [status, setStatus] = useState(1) \n    const [title, setTitle] = useState(undefined);\n    const [description, setDescription] = useState(undefined);\n    const [message, setMessage] = useState({}) \n\n\n    function closeMessage(){\n        setMessage({})\n    }\n    const config = {\n        headers: { Authorization: `Bearer ${sessionStorage.getItem('token')}` }\n    };\n    \n    async function addToDoList(){\n\n        if( title !== undefined && description !== undefined){\n            const body = {status:status, title:title, description:description, category:category}\n            await Api.post('/user/todolist/', body, config).then(()=>{   \n                refresh()    \n                closeAdd()\n\n            })\n        } else{\n            setMessage({title:'Email não verificado!', text:'Enviamos novamente um email com o link para verificação, por favor acesse o seu email.',status:'atention', action:'Fechar'})\n\n        }\n\n    }\n\n\n    async function btnEdit(id){\n        if( title !== undefined && description !== undefined){\n            const body = { id:id,status:status, title:title, description:description, category:category}\n            await Api.patch('/user/todolist/', body, config)\n        } else{\n            setMessage({title:'Email não verificado!', text:'Enviamos novamente um email com o link para verificação, por favor acesse o seu email.',status:'atention', action:'Fechar'})\n\n        }\n\n    }\n    \n\n  return (\n    <div className='add-todolist-div'>\n        <div onClick={()=>{closeAdd()}} className=\"add-bg-degrade\"></div>\n            {message.title !== undefined  ? \n             <Messages title={message.title} text={message.text} action={message.action} status={message.status} closeMessage={closeMessage}/> : ''}\n        <div className=\"add-todolist\">\n\n            <div className=\"add-todolist-container\">\n                <div className=\"add-todolist-configs\">\n                    <h5>Titulo</h5>\n                    <input onChange={(e)=>{setTitle(e.target.value)}} type=\"text\" placeholder='Digite o titulo da sua tarefa.'/>\n                    <h5>Categoria</h5>\n                        <select onChange={(e)=>{setCategory(e.target.value)}}>\n                            <option  value={4}>Outros</option>\n                            <option value={2}>Documentos</option>\n                            <option value={3}>Saúde</option>\n                            <option value={1}>Compras</option>\n                        </select>\n                    <h5>Status</h5>\n                    <div className=\"add-todolist-status-btns\">\n                    <select onChange={(e)=>{setStatus(e.target.value)}}>\n                            <option  value={1}>Aberto</option>\n                            <option value={2}>Em Progreso</option>\n                            <option value={3}>Finalizado</option>\n                        </select>\n                        </div>\n                </div>\n                <div className=\"add-todolist-description\">\n                    <h5>Descrição</h5>\n                <textarea onChange={(e)=>{setDescription(e.target.value)}} placeholder='Digite aqui a descrição da tarefa' cols=\"0\" rows=\"7\"></textarea>\n                <button onClick={()=>{addToDoList()}} className='btn-add'>Salvar</button>\n                </div>\n\n            </div>\n        </div>\n    </div>\n  )\n}\n\nexport default AddToDoList"],"mappings":"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"},"metadata":{},"sourceType":"module"}