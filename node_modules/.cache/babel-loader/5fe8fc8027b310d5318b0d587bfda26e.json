{"ast":null,"code":"import _regeneratorRuntime from\"/Users/mateusdavila/Desktop/code/intercambio/front/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/mateusdavila/Desktop/code/intercambio/front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/mateusdavila/Desktop/code/intercambio/front/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from'react';import'./EditToDoList.css';import Api from'../../axios/Axios';import Messages from'../messages/Messages';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var EditToDoList=function EditToDoList(_ref){var itemId=_ref.itemId,itemTitle=_ref.itemTitle,itemCategory=_ref.itemCategory,itemStatus=_ref.itemStatus,itemDescription=_ref.itemDescription,refresh=_ref.refresh,closeAdd=_ref.closeAdd;var _useState=useState(undefined),_useState2=_slicedToArray(_useState,2),category=_useState2[0],setCategory=_useState2[1];var _useState3=useState(undefined),_useState4=_slicedToArray(_useState3,2),status=_useState4[0],setStatus=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),title=_useState6[0],setTitle=_useState6[1];var _useState7=useState(undefined),_useState8=_slicedToArray(_useState7,2),description=_useState8[0],setDescription=_useState8[1];var _useState9=useState({}),_useState10=_slicedToArray(_useState9,2),message=_useState10[0],setMessage=_useState10[1];function closeMessage(){setMessage({});}useEffect(function(){setTitle(itemTitle);setCategory(itemCategory);setStatus(itemStatus);setDescription(itemDescription);},[]);console.log(itemStatus);console.log(itemTitle);function btnEdit(){return _btnEdit.apply(this,arguments);}function _btnEdit(){_btnEdit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var config,body;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(title!==undefined&&description!==undefined)){_context.next=9;break;}config={headers:{Authorization:\"Bearer \".concat(sessionStorage.getItem('token'))}};body={id:itemId,status:status,title:title,description:description,category:category};_context.next=5;return Api.patch('/user/todolist/',body,config).then(function(){});case 5:refresh();closeAdd();_context.next=10;break;case 9:setMessage({title:'Email não verificado!',text:'Enviamos novamente um email com o link para verificação, por favor acesse o seu email.',status:'atention',action:'Fechar'});case 10:case\"end\":return _context.stop();}}},_callee);}));return _btnEdit.apply(this,arguments);}return/*#__PURE__*/_jsxs(\"div\",{className:\"edit-todolist-div\",children:[/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){closeAdd();},className:\"edit-bg-degrade\"}),message.title!==undefined?/*#__PURE__*/_jsx(Messages,{title:message.title,text:message.text,action:message.action,status:message.status,closeMessage:closeMessage}):'',/*#__PURE__*/_jsx(\"div\",{className:\"edit-todolist\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"edit-todolist-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"edit-todolist-configs\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Titulo\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:title,onChange:function onChange(e){setTitle(e.target.value);},placeholder:\"Digite o titulo da sua tarefa.\"}),/*#__PURE__*/_jsx(\"h5\",{children:\"Categoria\"}),/*#__PURE__*/_jsxs(\"select\",{value:category,onChange:function onChange(e){setCategory(e.target.value);},children:[/*#__PURE__*/_jsx(\"option\",{value:4,children:\"Outros\"}),/*#__PURE__*/_jsx(\"option\",{value:2,children:\"Documentos\"}),/*#__PURE__*/_jsx(\"option\",{value:3,children:\"Sa\\xFAde\"}),/*#__PURE__*/_jsx(\"option\",{value:1,children:\"Compras\"})]}),/*#__PURE__*/_jsx(\"h5\",{children:\"Status\"}),/*#__PURE__*/_jsx(\"div\",{className:\"edit-todolist-status-btns\",children:/*#__PURE__*/_jsxs(\"select\",{value:status,onChange:function onChange(e){setStatus(e.target.value);},children:[/*#__PURE__*/_jsx(\"option\",{value:1,children:\"Aberto\"}),/*#__PURE__*/_jsx(\"option\",{value:2,children:\"Em Progreso\"}),/*#__PURE__*/_jsx(\"option\",{value:3,children:\"Finalizado\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"edit-todolist-description\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Descri\\xE7\\xE3o\"}),/*#__PURE__*/_jsx(\"textarea\",{value:description,onChange:function onChange(e){setDescription(e.target.value);},placeholder:\"Digite aqui a descri\\xE7\\xE3o da tarefa\",cols:\"0\",rows:\"7\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){btnEdit();},className:\"btn-edit\",children:\"Salvar\"})]})]})})]});};export default EditToDoList;","map":{"version":3,"names":["useEffect","useState","Api","Messages","EditToDoList","itemId","itemTitle","itemCategory","itemStatus","itemDescription","refresh","closeAdd","undefined","category","setCategory","status","setStatus","title","setTitle","description","setDescription","message","setMessage","closeMessage","console","log","btnEdit","config","headers","Authorization","sessionStorage","getItem","body","id","patch","then","text","action","e","target","value"],"sources":["/Users/mateusdavila/Desktop/code/intercambio/front/src/components/toDoList/EditToDoList.js"],"sourcesContent":["import {useEffect, useState} from 'react'\nimport './EditToDoList.css'\nimport Api from '../../axios/Axios' \nimport Messages from '../messages/Messages'\n\n\n\nconst EditToDoList = ({itemId, itemTitle, itemCategory, itemStatus, itemDescription, refresh, closeAdd }) => {\n\n    const [category, setCategory] = useState(undefined) \n    const [status, setStatus] = useState(undefined) \n    const [title, setTitle] = useState('');\n    const [description, setDescription] = useState(undefined);\n    const [message, setMessage] = useState({}) \n\n\n    function closeMessage(){\n        setMessage({})\n    }\n\n\n    useEffect(()=>{\n        setTitle(itemTitle)\n        setCategory(itemCategory)\n        setStatus(itemStatus)\n        setDescription(itemDescription)\n    },[])\n    console.log(itemStatus)\n    console.log(itemTitle)\n\n    async function btnEdit(){\n        if( title !== undefined && description !== undefined){\n            const config = {\n                headers: { Authorization: `Bearer ${sessionStorage.getItem('token')}` }\n            };\n            const body = { id:itemId,status:status, title:title, description:description, category:category}\n            await Api.patch('/user/todolist/', body, config).then(()=>{\n            })\n            refresh()\n            closeAdd()\n        } else{\n            setMessage({title:'Email não verificado!', text:'Enviamos novamente um email com o link para verificação, por favor acesse o seu email.',status:'atention', action:'Fechar'})\n\n        }\n\n    }\n    \n\n  return (\n    <div className='edit-todolist-div'>\n        <div onClick={()=>{closeAdd()}} className=\"edit-bg-degrade\"></div>\n            {message.title !== undefined  ? \n             <Messages title={message.title} text={message.text} action={message.action} status={message.status} closeMessage={closeMessage}/> : ''}\n        <div className=\"edit-todolist\">\n\n            <div className=\"edit-todolist-container\">\n                <div className=\"edit-todolist-configs\">\n                    <h5>Titulo</h5>\n                    <input  type=\"text\" value={title} onChange={(e)=>{setTitle(e.target.value)}} placeholder='Digite o titulo da sua tarefa.'/>\n                    <h5>Categoria</h5>\n                        <select value={category} onChange={(e)=>{setCategory(e.target.value)}}>\n                            <option  value={4}>Outros</option>\n                            <option value={2}>Documentos</option>\n                            <option value={3}>Saúde</option>\n                            <option value={1}>Compras</option>\n                        </select>\n                    <h5>Status</h5>\n                    <div className=\"edit-todolist-status-btns\">\n                    <select value={status} onChange={(e)=>{setStatus(e.target.value)}}>\n                            <option  value={1}>Aberto</option>\n                            <option value={2}>Em Progreso</option>\n                            <option value={3}>Finalizado</option>\n                        </select>\n                        </div>\n                </div>\n                <div className=\"edit-todolist-description\">\n                    <h5>Descrição</h5>\n                <textarea value={description} onChange={(e)=>{setDescription(e.target.value)}} placeholder='Digite aqui a descrição da tarefa' cols=\"0\" rows=\"7\"></textarea>\n                <button onClick={()=>{btnEdit()}} className='btn-edit'>Salvar</button>\n                </div>\n\n            </div>\n        </div>\n    </div>\n  )\n}\n\nexport default EditToDoList"],"mappings":"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"},"metadata":{},"sourceType":"module"}