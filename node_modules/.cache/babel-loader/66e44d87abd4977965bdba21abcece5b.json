{"ast":null,"code":"import _regeneratorRuntime from\"/Users/mateusdavila/Desktop/code/intercambio/front/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/mateusdavila/Desktop/code/intercambio/front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/mateusdavila/Desktop/code/intercambio/front/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from'react';import'./weather.css';import'react-loading-skeleton/dist/skeleton.css';import Skeleton,{SkeletonTheme}from'react-loading-skeleton';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var WeatherComponet=function WeatherComponet(_ref){var city=_ref.city,country=_ref.country;var listCountry=[{slug:'ie',title:'Ireland'}];var _useState=useState(false),_useState2=_slicedToArray(_useState,2),weather=_useState2[0],setWeather=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var countrySlug=['ie'];var countryTitle=['Irlanda'];useEffect(function(){function requestApi(){return _requestApi.apply(this,arguments);}function _requestApi(){_requestApi=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var api;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(city!==undefined&&country!==undefined){console.log(countrySlug[country-1]);api=\"https://api.openweathermap.org/data/2.5/weather?q=\".concat(city,\",\").concat(countrySlug[country-1],\"&appid=82dc6076ac2dc00fcd49a3b1d3f698fc\");fetch(api).then(function(response){return response.json();}).then(function(result){setWeather(result);setLoading(true);}).catch(function(error){setTimeout(function(){requestApi();console.log('Try Again');},5000);});}case 1:case\"end\":return _context.stop();}}},_callee);}));return _requestApi.apply(this,arguments);}requestApi();},[country]);return/*#__PURE__*/_jsx(SkeletonTheme,{baseColor:\"var(--8)\",highlightColor:\"var(--11)\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"city-div\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"city-box\",children:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"h4\",{children:[city||/*#__PURE__*/_jsx(Skeleton,{style:{width:'90px',height:'50px'},count:1}),\" \"]}),/*#__PURE__*/_jsxs(\"p\",{children:[countryTitle[country-1]||/*#__PURE__*/_jsx(Skeleton,{style:{width:'70px',height:'20px'},count:1}),\" \"]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"weather-box\",children:loading==true?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"img\",{height:'30px',src:\"http://openweathermap.org/img/wn/\".concat(weather.weather[0].icon,\"@2x.png\"),alt:weather.weather[0].main}),/*#__PURE__*/_jsx(\"h4\",{children:\"\".concat(parseFloat(weather.main.temp-273.15).toFixed(1),\"\\xB0\")}),/*#__PURE__*/_jsx(\"p\",{children:weather.weather[0].main||/*#__PURE__*/_jsx(Skeleton,{style:{width:'50px',height:'20px'}})})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Skeleton,{style:{width:'30px',height:'30px'}}),/*#__PURE__*/_jsx(Skeleton,{style:{width:'90px',height:'50px'},count:1}),/*#__PURE__*/_jsx(Skeleton,{style:{width:'60px',height:'30px'},count:1})]})})]})});};export default WeatherComponet;","map":{"version":3,"names":["useState","useEffect","Skeleton","SkeletonTheme","WeatherComponet","city","country","listCountry","slug","title","weather","setWeather","loading","setLoading","countrySlug","countryTitle","requestApi","undefined","console","log","api","fetch","then","response","json","result","catch","error","setTimeout","width","height","icon","main","parseFloat","temp","toFixed"],"sources":["/Users/mateusdavila/Desktop/code/intercambio/front/src/components/weather/WeatherComponet.js"],"sourcesContent":["import {useState, useEffect} from 'react'\nimport './weather.css'\nimport 'react-loading-skeleton/dist/skeleton.css'\nimport Skeleton, { SkeletonTheme } from 'react-loading-skeleton'\n\n\nconst WeatherComponet = ({city,country}) => {\n\n\n    const listCountry = [{slug:'ie', title:'Ireland'}]\n    const [weather, setWeather] = useState(false)\n    const [loading,setLoading]  = useState(false)\n\n    const countrySlug = ['ie',]\n    const countryTitle = ['Irlanda',]\n\n    useEffect(()=>{\n\n\n        async function requestApi () {\n\n            if(city !== undefined && country !== undefined){\n                console.log(countrySlug[country-1])\n                let  api = `https://api.openweathermap.org/data/2.5/weather?q=${city},${countrySlug[country-1]}&appid=82dc6076ac2dc00fcd49a3b1d3f698fc`\n                fetch(api)\n                        .then(response => response.json())\n                        .then(result => {\n                            setWeather(result)\n                            setLoading(true)})\n                        .catch((error)=>{\n\n                            setTimeout(() => {\n                                requestApi()\n                                console.log('Try Again')\n                            }, 5000);\n                        })\n\n            }\n         }\n     \n         \n         requestApi()\n\n         \n        },[country])\n        \n\n\n  return (\n    <SkeletonTheme baseColor=\"var(--8)\" highlightColor=\"var(--11)\">\n       <div className='city-div'>\n        <div className=\"city-box\">\n            <>\n                <h4>{city ||  <Skeleton style={{width:'90px',height:'50px'}}  count={1} />} </h4> \n                <p>{countryTitle[country-1]||  <Skeleton style={{width:'70px',height:'20px'}}  count={1} /> } </p>  \n            </>\n\n        </div>\n       <div className='weather-box'>\n        {loading == true? \n            <>\n                <img height={'30px'} src={`http://openweathermap.org/img/wn/${weather.weather[0].icon}@2x.png`} alt={weather.weather[0].main} />\n                <h4>{`${parseFloat((weather.main.temp)-273.15).toFixed(1)}Â°`}</h4> \n                <p>{weather.weather[0].main || <Skeleton style={{width:'50px',height:'20px'}}/>}</p>\n            </>\n        : \n            <>\n            <Skeleton style={{width:'30px',height:'30px'}}/>\n            <Skeleton style={{width:'90px',height:'50px'}} count={1} />\n            <Skeleton style={{width:'60px',height:'30px'}} count={1} />\n            </>}\n\n             </div>\n        </div>\n        </SkeletonTheme>\n  )\n}\n\nexport default WeatherComponet"],"mappings":"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"},"metadata":{},"sourceType":"module"}