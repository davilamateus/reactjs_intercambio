{"ast":null,"code":"import _regeneratorRuntime from\"/Users/mateusdavila/Desktop/code/intercambio/front/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/mateusdavila/Desktop/code/intercambio/front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/mateusdavila/Desktop/code/intercambio/front/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect,useRef}from'react';import Chart from'chart.js/auto';import'./Money.css';import Skeleton,{SkeletonTheme}from'react-loading-skeleton';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Money=function Money(){var _useState=useState(undefined),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState('#9dc3660d'),_useState4=_slicedToArray(_useState3,2),color=_useState4[0],setColor=_useState4[1];var _useState5=useState('#9DC366'),_useState6=_slicedToArray(_useState5,2),colorBorder=_useState6[0],setColorBorder=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),loading=_useState8[0],setLoading=_useState8[1];useEffect(function(){function requestApi(){return _requestApi.apply(this,arguments);}function _requestApi(){_requestApi=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var api;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:api=\"https://economia.awesomeapi.com.br/json/daily/EUR-BRL/15\";fetch(api).then(function(response){return response.json();}).then(function(result){setData(result);setLoading(true);}).catch(function(error){setTimeout(function(){setData(undefined);requestApi();console.log('Try Again');},5000);});case 2:case\"end\":return _context.stop();}}},_callee);}));return _requestApi.apply(this,arguments);}requestApi();},[]);var ctx=document.getElementById('myChart');if(data!==undefined){var chartStatus=Chart.getChart(\"myChart\");// <canvas> id\nif(chartStatus!=undefined){chartStatus.destroy();}var myChart=new Chart(ctx,{type:'line',data:{labels:['7 day go','6 day go','5 day go','4 day go','3 day go','2 day go','1 day go','Today'],datasets:[{label:\"EUR\",display:true,data:[data[8].ask,data[7].ask,data[6].ask,data[5].ask,data[4].ask,data[3].ask,data[2].ask,data[1].ask],pointRadius:0,backgroundColor:[\"\".concat(color)],borderColor:colorBorder,borderWidth:4,tension:0.4}]},options:{fill:true,options:{aspectRatio:1//(width/height)\n},plugins:{labels:{display:false},legend:{display:false}},scales:{y:{display:false},x:{display:false}}},responsive:true,maintainAspectRatio:false,scales:{yAxes:[{ticks:{beginAtZero:true,stepSize:1}}]}});}useEffect(function(){if(data!==undefined){if(data[1].ask<data[2].ask){setColor('#9dc3660d');setColorBorder('#9DC366');}else{setColor('#FA385F0a');setColorBorder('#FA3850');}}},[data]);return/*#__PURE__*/_jsx(\"div\",{className:\"money-div\",children:loading==true?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"box-header\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Cota\\xE7\\xE3o\"}),/*#__PURE__*/_jsx(\"img\",{src:\"./../../../img/icons/btnpurper.svg\",alt:\"Ver mais\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"box-Chart\",children:[data!==undefined?/*#__PURE__*/_jsxs(\"h5\",{style:{color:colorBorder},className:\"Cot-number\",children:[\"R$ \",data[1].ask]}):'',/*#__PURE__*/_jsx(\"canvas\",{id:\"myChart\",width:\"100px\",height:\"50px\"})]})]}):/*#__PURE__*/_jsxs(SkeletonTheme,{baseColor:\"var(--8)\",highlightColor:\"var(--11)\",children:[/*#__PURE__*/_jsx(Skeleton,{style:{width:'110px',height:'20px',margin:'10px'}}),/*#__PURE__*/_jsx(Skeleton,{style:{width:'130px',height:'30px',margin:'0px 10px'}}),/*#__PURE__*/_jsx(Skeleton,{style:{width:'310px',height:'80px',margin:'10px 0px 0px 0px',opacity:'0.4'}})]})});};export default Money;","map":{"version":3,"names":["useState","useEffect","useRef","Chart","Skeleton","SkeletonTheme","Money","undefined","data","setData","color","setColor","colorBorder","setColorBorder","loading","setLoading","requestApi","api","fetch","then","response","json","result","catch","error","setTimeout","console","log","ctx","document","getElementById","chartStatus","getChart","destroy","myChart","type","labels","datasets","label","display","ask","pointRadius","backgroundColor","borderColor","borderWidth","tension","options","fill","aspectRatio","plugins","legend","scales","y","x","responsive","maintainAspectRatio","yAxes","ticks","beginAtZero","stepSize","width","height","margin","opacity"],"sources":["/Users/mateusdavila/Desktop/code/intercambio/front/src/components/money/Money.js"],"sourcesContent":["import {useState, useEffect,useRef}from 'react'\nimport Chart from 'chart.js/auto';\nimport './Money.css'\nimport Skeleton, { SkeletonTheme } from 'react-loading-skeleton'\n\n\n\nconst Money = () => {\n  const [data,setData ]= useState(undefined);\n  const [color,setColor] = useState('#9dc3660d')\n  const [colorBorder,setColorBorder] = useState('#9DC366')\n  const [loading,setLoading] = useState(false)\n\n  useEffect(()=>{\n    async function requestApi () {\n      let  api = \"https://economia.awesomeapi.com.br/json/daily/EUR-BRL/15\"\n      fetch(api).then(response => response.json()).then((result) => \n      {setData(result) \n            setLoading(true)}\n            )\n            .catch((error)=>{\n              setTimeout(() => {\n                setData(undefined)\n                  requestApi()\n                  console.log('Try Again')\n              }, 5000);\n          })\n    }\n    requestApi()\n  },[])\n  \n  \n  \n  \n  const ctx = document.getElementById('myChart');\n  if(data!== undefined){\n    let chartStatus = Chart.getChart(\"myChart\"); // <canvas> id\n    if (chartStatus != undefined) {\n      chartStatus.destroy();\n    }\n\n\n    const myChart = new Chart(ctx, {\n      type: 'line',\n      data: {\n          labels: ['7 day go', '6 day go', '5 day go', '4 day go', '3 day go', '2 day go', '1 day go', 'Today'],\n          datasets: [{\n              label: \"EUR\",\n              display: true,\n              data: [ data[8].ask, data[7].ask, data[6].ask, data[5].ask, data[4].ask, data[3].ask, data[2].ask, data[1].ask],\n              pointRadius: 0,\n              backgroundColor: [\n                 `${color}`\n                ],\n              borderColor: colorBorder,\n              borderWidth: 4,\n              tension: 0.4, \n          }]\n      },\n      options: {\n          fill: true,\n          options:{\n            aspectRatio:1 //(width/height)\n       },\n          plugins: {\n              labels: {\n                  display: false,\n              },\n              legend: {\n                  display: false,\n              },\n          },\n          scales: {\n              y: {\n                  display: false,                     \n              },\n              x: {\n                  display: false ,\n              }\n                  \n          }\n      },\n      responsive: true,\n      maintainAspectRatio: false,\n      scales: {\n          yAxes: [{\n              ticks: {\n                  beginAtZero:true,\n                  stepSize: 1\n              }\n          }]\n      }\n  });\n  \n  }\n\n\n  useEffect(()=>{\n\n    if(data !==undefined){\n\n        if(data[1].ask<data[2].ask){\n          setColor('#9dc3660d')\n          setColorBorder('#9DC366')\n\n        } else{\n          setColor('#FA385F0a')\n          setColorBorder('#FA3850')\n        }\n          \n  }\n  },[data])\n\n\n\n\n\n\n\n\n  return (\n    <div className='money-div'>\n\n      {loading == true? \n          <>\n          \n\n            <div className=\"box-header\">\n                <h5>Cotação</h5>\n            <img src=\"./../../../img/icons/btnpurper.svg\" alt=\"Ver mais\" />\n            </div>\n            <div className='box-Chart'>\n            {data !==undefined ? \n              <h5 style={{color:colorBorder}} className='Cot-number'>R$ {data[1].ask}</h5>\n              :''}\n               <canvas id=\"myChart\" width=\"100px\" height=\"50px\"></canvas>\n\n            </div>\n            </>\n        :\n        <SkeletonTheme baseColor=\"var(--8)\" highlightColor=\"var(--11)\">\n            <Skeleton style={{width:'110px',height:'20px',margin:'10px'}}/>\n            <Skeleton style={{width:'130px',height:'30px',margin:'0px 10px'}}/>\n            <Skeleton style={{width:'310px',height:'80px',margin:'10px 0px 0px 0px',opacity:'0.4'}}/>\n\n          </SkeletonTheme>\n        \n        }\n    </div>\n  )\n}\n\nexport default Money"],"mappings":"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"},"metadata":{},"sourceType":"module"}