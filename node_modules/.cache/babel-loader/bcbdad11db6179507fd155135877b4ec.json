{"ast":null,"code":"import _regeneratorRuntime from\"/Users/mateusdavila/Desktop/code/intercambio/front/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _toConsumableArray from\"/Users/mateusdavila/Desktop/code/intercambio/front/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _asyncToGenerator from\"/Users/mateusdavila/Desktop/code/intercambio/front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/mateusdavila/Desktop/code/intercambio/front/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from'react';import'./toDolist.css';import ToDoListTrello from'../../components/toDoList/ToDoListTrello';import Api from'../../axios/Axios';import AddToDoList from'../../components/toDoList/AddToDoList';import Skeleton,{SkeletonTheme}from'react-loading-skeleton';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var ToDoList=function ToDoList(){var _useState=useState(undefined),_useState2=_slicedToArray(_useState,2),list=_useState2[0],setList=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),open=_useState4[0],setOpen=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),inProgress=_useState6[0],setInProgress=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),finished=_useState8[0],setFinished=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),loading=_useState10[0],setLoading=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),addShow=_useState12[0],setAddShow=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),editShow=_useState14[0],setShow=_useState14[1];var customConfig={headers:{'Content-Type':'application/json',\"Authorization\":\"Bearer \".concat(sessionStorage.getItem('token'))}};function loadToDoList(){return _loadToDoList.apply(this,arguments);}function _loadToDoList(){_loadToDoList=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log('carregoooou');_context.next=3;return Api('/user/todolist',customConfig).then(function(data){setList(data.data.data);});case 3:case\"end\":return _context.stop();}}},_callee);}));return _loadToDoList.apply(this,arguments);}useEffect(function(){loadToDoList();},[]);function refresh(){setLoading(false);setTimeout(function(){setList(undefined);setFinished([]);setInProgress([]);setOpen([]);loadToDoList();},10);}useEffect(function(){if(list!==undefined){list.map(function(item){if(item.status==1){setOpen(function(open){return[].concat(_toConsumableArray(open),[item]);});}else if(item.status==2){setInProgress(function(inProgress){return[].concat(_toConsumableArray(inProgress),[item]);});}else if(item.status==3){setFinished(function(finished){return[].concat(_toConsumableArray(finished),[item]);});}});setLoading(true);}},[list]);function closeAdd(){setAddShow(false);}return/*#__PURE__*/ (// <AddToDoList refresh={refresh} />\n_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"todolist-page\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"todolist-header-page\",children:/*#__PURE__*/_jsxs(\"button\",{onClick:function onClick(){setAddShow(true);},className:\"btn-add-new\",children:[/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:\"17.371\",height:\"17.371\",viewBox:\"0 0 17.371 17.371\",children:/*#__PURE__*/_jsxs(\"g\",{id:\"ic-actions-close\",transform:\"matrix(0.719, -0.695, 0.695, 0.719, 2.5, 8.578)\",children:[/*#__PURE__*/_jsx(\"line\",{id:\"Linha_16\",\"data-name\":\"Linha 16\",x1:\"8.749\",y1:\"8.749\",transform:\"translate(0 0)\",fill:\"none\",stroke:\"#fff\"}),/*#__PURE__*/_jsx(\"line\",{id:\"Linha_17\",\"data-name\":\"Linha 17\",y1:\"8.749\",x2:\"8.749\",transform:\"translate(0 0)\",fill:\"none\",stroke:\"#fff\"})]})}),/*#__PURE__*/_jsx(\"p\",{children:\"Adicionar Tarefa\"})]})}),loading===true?/*#__PURE__*/_jsx(ToDoListTrello,{open:open,inProgress:inProgress,finished:finished,listToDoList:list,refresh:refresh}):/*#__PURE__*/_jsx(SkeletonTheme,{baseColor:\"var(--8)\",highlightColor:\"var(--11)\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"todolist-skeleton\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Skeleton,{style:{width:'100px',height:'20px',margin:'10px 10px'}}),/*#__PURE__*/_jsx(Skeleton,{style:{width:'94%',height:'120px',margin:'10px 10px'}}),/*#__PURE__*/_jsx(Skeleton,{style:{width:'94%',height:'120px',margin:'10px 10px'}}),/*#__PURE__*/_jsx(Skeleton,{style:{width:'94%',height:'120px',margin:'10px 10px'}}),/*#__PURE__*/_jsx(Skeleton,{style:{width:'94%',height:'120px',margin:'10px 10px'}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Skeleton,{style:{width:'100px',height:'20px',margin:'10px 10px'}}),/*#__PURE__*/_jsx(Skeleton,{style:{width:'94%',height:'120px',margin:'10px 10px'}}),/*#__PURE__*/_jsx(Skeleton,{style:{width:'94%',height:'120px',margin:'10px 10px'}}),/*#__PURE__*/_jsx(Skeleton,{style:{width:'94%',height:'120px',margin:'10px 10px'}}),/*#__PURE__*/_jsx(Skeleton,{style:{width:'94%',height:'120px',margin:'10px 10px'}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Skeleton,{style:{width:'100px',height:'20px',margin:'10px 10px'}}),/*#__PURE__*/_jsx(Skeleton,{style:{width:'94%',height:'120px',margin:'10px 10px'}}),/*#__PURE__*/_jsx(Skeleton,{style:{width:'94%',height:'120px',margin:'10px 10px'}}),/*#__PURE__*/_jsx(Skeleton,{style:{width:'94%',height:'120px',margin:'10px 10px'}}),/*#__PURE__*/_jsx(Skeleton,{style:{width:'94%',height:'120px',margin:'10px 10px'}})]})]})}),addShow===true?/*#__PURE__*/_jsx(AddToDoList,{closeAdd:closeAdd,refresh:refresh}):'']})}));};export default ToDoList;","map":{"version":3,"names":["useEffect","useState","ToDoListTrello","Api","AddToDoList","Skeleton","SkeletonTheme","ToDoList","undefined","list","setList","open","setOpen","inProgress","setInProgress","finished","setFinished","loading","setLoading","addShow","setAddShow","editShow","setShow","customConfig","headers","sessionStorage","getItem","loadToDoList","console","log","then","data","refresh","setTimeout","map","item","status","closeAdd","width","height","margin"],"sources":["/Users/mateusdavila/Desktop/code/intercambio/front/src/pages/toDoList/ToDoList.js"],"sourcesContent":["import {useEffect, useState} from 'react'\nimport './toDolist.css'\nimport ToDoListTrello from '../../components/toDoList/ToDoListTrello'\nimport Api from '../../axios/Axios'\nimport AddToDoList from '../../components/toDoList/AddToDoList'\nimport Skeleton, { SkeletonTheme } from 'react-loading-skeleton'\n\nconst ToDoList = () => {\n\n\n  const [list,setList] = useState(undefined);\n  const [open,setOpen] = useState([]);\n  const [inProgress, setInProgress] = useState([]);\n  const [finished, setFinished] = useState([]);\n  const [loading, setLoading] = useState(false)\n  const [addShow, setAddShow] = useState(false)\n  const [editShow, setShow] = useState(false)\n\n\n  \n  const customConfig = {\n    headers: {\n    'Content-Type': 'application/json',\n    \"Authorization\" : `Bearer ${sessionStorage.getItem('token')}`\n    }\n};\n\n\n  async function loadToDoList(){\n    console.log('carregoooou')\n    await Api('/user/todolist' ,customConfig).then((data)=>{\n      setList(data.data.data)\n    })\n  }\n  useEffect(()=>{\n\n\n    loadToDoList()\n  },[])\n\n\n  function refresh(){\n    setLoading(false)\n  setTimeout(() => {\n    \n    setList(undefined)\n    setFinished([])\n    setInProgress([])\n    setOpen([])\n    loadToDoList()\n  }, 10);\n\n  }\n\n  useEffect(()=>{\n    if(list!== undefined){\n      \n      list.map((item)=>{\n        if(item.status == 1){\n        setOpen(open => [...open, item])\n        }else if(item.status == 2){\n          setInProgress(inProgress => [...inProgress, item])\n\n        }else if(item.status ==3){\n          setFinished(finished => [...finished, item])\n\n        }\n      })\n     setLoading(true)\n\n    }\n  },[list])\n\n\n  function closeAdd(){\n    setAddShow(false)\n  }\n\n\n\n  \n\n  return (\n\n\n    \n         // <AddToDoList refresh={refresh} />\n    <>  \n\n        <div className='todolist-page'>\n          <div className=\"todolist-header-page\">\n            <button onClick={()=>{setAddShow(true)}} className='btn-add-new'>\n              <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"17.371\" height=\"17.371\" viewBox=\"0 0 17.371 17.371\">\n                <g id=\"ic-actions-close\" transform=\"matrix(0.719, -0.695, 0.695, 0.719, 2.5, 8.578)\">\n                  <line id=\"Linha_16\" data-name=\"Linha 16\" x1=\"8.749\" y1=\"8.749\" transform=\"translate(0 0)\" fill=\"none\" stroke=\"#fff\" />\n                  <line id=\"Linha_17\" data-name=\"Linha 17\" y1=\"8.749\" x2=\"8.749\" transform=\"translate(0 0)\" fill=\"none\" stroke=\"#fff\" />\n                </g>\n              </svg>\n              <p>\n              Adicionar Tarefa\n              </p>\n            </button>\n          </div>\n          {loading=== true?\n          <ToDoListTrello open={open} inProgress={inProgress} finished={finished} listToDoList={list} refresh={refresh}/>\n          :\n          <SkeletonTheme baseColor=\"var(--8)\" highlightColor=\"var(--11)\">\n            <div className=\"todolist-skeleton\">\n              <div>\n                  <Skeleton style={{width:'100px',height:'20px', margin:'10px 10px' }}/>\n                  <Skeleton style={{width:'94%',height:'120px', margin:'10px 10px' }}/>\n                  <Skeleton style={{width:'94%',height:'120px', margin:'10px 10px' }}/>\n                  <Skeleton style={{width:'94%',height:'120px', margin:'10px 10px' }}/>\n                  <Skeleton style={{width:'94%',height:'120px', margin:'10px 10px' }}/>\n\n              </div>\n              <div>\n                  <Skeleton style={{width:'100px',height:'20px', margin:'10px 10px' }}/>\n                  <Skeleton style={{width:'94%',height:'120px', margin:'10px 10px' }}/>\n                  <Skeleton style={{width:'94%',height:'120px', margin:'10px 10px' }}/>\n                  <Skeleton style={{width:'94%',height:'120px', margin:'10px 10px' }}/>\n                  <Skeleton style={{width:'94%',height:'120px', margin:'10px 10px' }}/>\n\n              </div>\n              <div>\n                  <Skeleton style={{width:'100px',height:'20px', margin:'10px 10px' }}/>\n                  <Skeleton style={{width:'94%',height:'120px', margin:'10px 10px' }}/>\n                  <Skeleton style={{width:'94%',height:'120px', margin:'10px 10px' }}/>\n                  <Skeleton style={{width:'94%',height:'120px', margin:'10px 10px' }}/>\n                  <Skeleton style={{width:'94%',height:'120px', margin:'10px 10px' }}/>\n\n              </div>\n            </div>\n            </SkeletonTheme>\n          \n          }\n          {addShow === true? <AddToDoList closeAdd={closeAdd} refresh={refresh}/> :''}\n        </div>\n    </>  )\n}\n\nexport default ToDoList"],"mappings":"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"},"metadata":{},"sourceType":"module"}