{"ast":null,"code":"import _regeneratorRuntime from\"/Users/mateusdavila/Desktop/code/intercambio/front/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/mateusdavila/Desktop/code/intercambio/front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/mateusdavila/Desktop/code/intercambio/front/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import Api from'./../../axios/Axios';import'./BlogDashboard.css';import{Link}from'react-router-dom';import Skeleton,{SkeletonTheme}from'react-loading-skeleton';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var BlogDashboard=function BlogDashboard(_ref){var countryId=_ref.countryId;var _useState=useState(),_useState2=_slicedToArray(_useState,2),article=_useState2[0],setArticle=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),page=_useState4[0],setPage=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),nextArticleStatus=_useState6[0],setNextArticleStatus=_useState6[1];var _useState7=useState(true),_useState8=_slicedToArray(_useState7,2),backArticleStatus=_useState8[0],setBackArticleStatus=_useState8[1];var _useState9=useState(0),_useState10=_slicedToArray(_useState9,2),lengthArticle=_useState10[0],setLengthArticle=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),loading=_useState12[0],setLoading=_useState12[1];useEffect(function(){if(countryId!==undefined){var loadBlog=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return Api.get(\"/blog/articles?country=\".concat(countryId,\"&page=\",1));case 2:res=_context.sent;setArticle(res.data);setLoading(true);case 5:case\"end\":return _context.stop();}}},_callee);}));return function loadBlog(){return _ref2.apply(this,arguments);};}();loadBlog();}},[countryId]);function pageBlog(value){setPage(page+value);if(page+1<=article.length){setNextArticleStatus(false);setLengthArticle(article.length);}else{setNextArticleStatus(true);}}useEffect(function(){if(page==0){setBackArticleStatus(false);}else{setBackArticleStatus(true);}if(lengthArticle-1==page){setNextArticleStatus(false);}else{setNextArticleStatus(true);}},[page]);var intervals=[{label:'ano',seconds:31536000},{label:'mês',seconds:2592000},{label:'dia',seconds:86400},{label:'hora',seconds:3600},{label:'minuto',seconds:60},{label:'segundo',seconds:1}];function timeSince(date){var seconds=Math.floor((Date.now()-date.getTime())/1000);var interval=intervals.find(function(i){return i.seconds<seconds;});var count=Math.floor(seconds/interval.seconds);return\"\".concat(count,\" \").concat(interval.label).concat(count!==1?'s':'',\" atr\\xE1s.\");}return/*#__PURE__*/_jsx(SkeletonTheme,{baseColor:\"var(--8)\",highlightColor:\"var(--11)\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"blog-div\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"blog-box\",children:loading==true?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"box-header\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Blog\"}),/*#__PURE__*/_jsx(\"img\",{src:\"./../../../img/icons/btnpurper.svg\",alt:\"Ver mais\"})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"blog-container\",children:/*#__PURE__*/_jsxs(Link,{to:\"/blog/article/\".concat(article[page].id),children:[/*#__PURE__*/_jsx(\"div\",{style:{backgroundImage:\"url(\\\"\".concat(article[page].img,\"\\\")\")},className:\"blog-img\"}),/*#__PURE__*/_jsx(\"h5\",{className:\"blog-dashboard-article-category\",children:article[page].category.title}),/*#__PURE__*/_jsx(\"h4\",{children:article[page].title}),/*#__PURE__*/_jsxs(\"p\",{children:[\" \",article[page].description.split('').slice(0,200).join('')+\"...\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"article-time\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"./../../../img/icons/icontime.svg\"}),/*#__PURE__*/_jsx(\"p\",{className:\"princial-article-time\",children:timeSince(new Date(article[page].createdAt))})]}),/*#__PURE__*/_jsx(\"button\",{children:\"Continuar lendo\"})]})})})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Skeleton,{style:{width:'40px',height:'30px',margin:'10px 10px 10px 10px'}}),/*#__PURE__*/_jsx(Skeleton,{style:{width:'290px',height:'190px',margin:'10px 10px 10px 10px'}}),/*#__PURE__*/_jsx(Skeleton,{style:{width:'90px',height:'20px',margin:'10px 10px 20px 10px'}}),/*#__PURE__*/_jsx(Skeleton,{count:2,style:{width:'290px',height:'20px',margin:'0px 0px 0px 10px'}}),/*#__PURE__*/_jsx(Skeleton,{count:1,style:{width:'120px',height:'20px',margin:'0px 10px 0px 10px'}}),/*#__PURE__*/_jsx(Skeleton,{count:1,style:{width:'70px',height:'15px',margin:'20px 40px 20px 10px'}}),/*#__PURE__*/_jsx(Skeleton,{style:{width:'200px',height:'35px',margin:'0 auto',display:'flex'}})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"btn-blog\",children:[backArticleStatus===true?/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){pageBlog(-1);},children:\"Anterior\"}):'',nextArticleStatus===true?/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){pageBlog(1);},children:\"Pr\\xF4ximo\"}):'']})]})});};export default BlogDashboard;","map":{"version":3,"names":["React","useEffect","useState","Api","Link","Skeleton","SkeletonTheme","BlogDashboard","countryId","article","setArticle","page","setPage","nextArticleStatus","setNextArticleStatus","backArticleStatus","setBackArticleStatus","lengthArticle","setLengthArticle","loading","setLoading","undefined","loadBlog","get","res","data","pageBlog","value","length","intervals","label","seconds","timeSince","date","Math","floor","Date","now","getTime","interval","find","i","count","id","backgroundImage","img","category","title","description","split","slice","join","createdAt","width","height","margin","display"],"sources":["/Users/mateusdavila/Desktop/code/intercambio/front/src/components/blog/BlogDashboard.js"],"sourcesContent":["import React, { useEffect ,useState } from 'react'\nimport Api from './../../axios/Axios'\nimport './BlogDashboard.css'\nimport {Link} from 'react-router-dom'\nimport Skeleton, { SkeletonTheme } from 'react-loading-skeleton'\n\n\n\nconst BlogDashboard = ({countryId}) => {\n    \n    const [article, setArticle] = useState()\n    const [page,setPage] = useState(0)\n    const [nextArticleStatus, setNextArticleStatus] = useState(true)\n    const [backArticleStatus, setBackArticleStatus] = useState(true)\n    const [lengthArticle ,setLengthArticle] = useState(0)\n    const [loading,setLoading] = useState(false)\n    \n    useEffect(()=>{\n        if(countryId !== undefined){\n        async function loadBlog(){\n          const res =   await Api.get(`/blog/articles?country=${countryId}&page=${1}`)\n          setArticle(res.data)\n          setLoading(true)\n        }\n        loadBlog()\n    }\n    },[countryId])\n\n\n\n\n    \n    function pageBlog(value){\n        setPage(page + value)\n        if(page+1 <= article.length){\n            setNextArticleStatus(false)\n\n            setLengthArticle(article.length)\n        } else{\n            setNextArticleStatus(true)\n        }\n\n        \n\n    }\n\n        \nuseEffect(()=>{\n\n    if(page == 0){\n        setBackArticleStatus(false)\n        \n\n    } else{\n        setBackArticleStatus(true)\n    }\n    if(lengthArticle-1 ==page){\n        setNextArticleStatus(false)\n    } else {setNextArticleStatus(true)}\n \n\n\n\n},[page])\n\n\nconst intervals = [\n    { label: 'ano', seconds: 31536000 },\n    { label: 'mês', seconds: 2592000 },\n    { label: 'dia', seconds: 86400 },\n    { label: 'hora', seconds: 3600 },\n    { label: 'minuto', seconds: 60 },\n    { label: 'segundo', seconds: 1 }\n  ];\n  \n  function timeSince(date) {\n    const seconds = Math.floor((Date.now() - date.getTime()) / 1000);\n    const interval = intervals.find(i => i.seconds < seconds);\n    const count = Math.floor(seconds / interval.seconds);\n    return `${count} ${interval.label}${count !== 1 ? 's' : ''} atrás.`;\n  }\n\n\n\n  return (\n    <SkeletonTheme baseColor=\"var(--8)\" highlightColor=\"var(--11)\">\n\n    <div className='blog-div'>\n        <div className='blog-box'>\n            {loading == true? \n         <>\n                <div className=\"box-header\">\n                    <h5>Blog</h5> \n                    <img  src=\"./../../../img/icons/btnpurper.svg\" alt=\"Ver mais\" />\n                </div>\n                <div>\n                <div className=\"blog-container\">\n                    <Link to={`/blog/article/${article[page].id}`}>\n                        <div style={{backgroundImage: `url(\"${(article[page].img)}\")`}} className=\"blog-img\"></div> \n                        <h5 className=\"blog-dashboard-article-category\">{article[page].category.title }</h5>\n                        <h4>{article[page].title}</h4>\n                        <p> {article[page].description.split('').slice(0,200).join('')+\"...\" }</p>\n                        <div className=\"article-time\">\n                            <img src=\"./../../../img/icons/icontime.svg\" />\n                            <p className=\"princial-article-time\">{timeSince(new Date(article[page].createdAt))}</p>\n                        </div>           \n                        <button>Continuar lendo</button>\n                    </Link>\n                </div>\n            </div>\n\n        </>\n            :\n        \n        <>\n            <Skeleton style={{width:'40px',height:'30px', margin:'10px 10px 10px 10px'}}/>\n            <Skeleton style={{width:'290px',height:'190px',margin:'10px 10px 10px 10px'}}/>\n            <Skeleton style={{width:'90px',height:'20px',margin:'10px 10px 20px 10px'}}/>\n            <Skeleton count={2} style={{width:'290px',height:'20px',margin:'0px 0px 0px 10px'}}/>\n            <Skeleton count={1} style={{width:'120px',height:'20px',margin:'0px 10px 0px 10px'}}/>\n            <Skeleton count={1} style={{width:'70px',height:'15px',margin:'20px 40px 20px 10px'}}/>\n            <Skeleton  style={{width:'200px',height:'35px',margin:'0 auto', display:'flex'}}/>\n\n        </>\n        \n        }\n        </div>\n            <div className=\"btn-blog\">\n                {backArticleStatus === true ? <button onClick={()=>{pageBlog(-1)}}>Anterior</button>: ''}\n                {nextArticleStatus === true ? <button onClick={()=>{pageBlog(1)}}>Prôximo</button>: ''}\n\n            </div>\n    </div>\n    </SkeletonTheme>\n  )\n}\n\nexport default BlogDashboard"],"mappings":"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"},"metadata":{},"sourceType":"module"}