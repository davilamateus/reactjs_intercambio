{"ast":null,"code":"import _regeneratorRuntime from\"/Users/mateusdavila/Desktop/code/intercambio/front/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/mateusdavila/Desktop/code/intercambio/front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/mateusdavila/Desktop/code/intercambio/front/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect,useRef,Key}from'react';import'./Radio.css';import Api from'./../../axios/Axios';import Skeleton,{SkeletonTheme}from'react-loading-skeleton';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Radio=function Radio(_ref){var country=_ref.country;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),listRadio=_useState2[0],setListRadio=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),page=_useState4[0],setPage=_useState4[1];var _useState5=useState('play'),_useState6=_slicedToArray(_useState5,2),radioStatus=_useState6[0],setRadioStatus=_useState6[1];var audioRef=useRef();var _useState7=useState(50),_useState8=_slicedToArray(_useState7,2),volume=_useState8[0],setVolume=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),loading=_useState10[0],setLoading=_useState10[1];useEffect(function(){function loadRadio(){return _loadRadio.apply(this,arguments);}function _loadRadio(){_loadRadio=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return Api.get(\"/radios?countryId=\".concat(country)).then(function(data){setListRadio(data.data);setLoading(true);});case 2:case\"end\":return _context.stop();}}},_callee);}));return _loadRadio.apply(this,arguments);}loadRadio();},[country]);function backRadioChange(value){if(page-1===-1){setPage(listRadio.length-1);}else{setPage(page+value);}}function nextRadioChange(value){if(page+1===listRadio.length){setPage(0);}else{setPage(page+value);}}function playStatus(){if(radioStatus=='play'){setRadioStatus('pause');audioRef.current.play();}else{setRadioStatus('play');audioRef.current.pause();}}function playRadio(){console.log('teste');}useEffect(function(){if(audioRef.current){audioRef.current.volume=volume/100;}},[volume]);return/*#__PURE__*/_jsx(\"div\",{className:\"radio-box\",children:listRadio.length>0?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{style:{backgroundImage:\"url(\\\"\".concat(listRadio[page].img,\"\\\")\")},className:\"radio-img\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"radio-controls\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Voc\\xEA esta ouvindo\"}),/*#__PURE__*/_jsx(\"h5\",{children:listRadio[page].title}),/*#__PURE__*/_jsxs(\"div\",{className:\"radios-btns-controler\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"radio-volume\",children:[/*#__PURE__*/_jsx(\"audio\",{ref:audioRef,children:/*#__PURE__*/_jsx(\"source\",{src:listRadio[0].link})}),/*#__PURE__*/_jsxs(\"div\",{className:\"radio-volume-bg\",children:[/*#__PURE__*/_jsx(\"div\",{style:{width:volume+'%'},className:\"radio-volume-barra\"}),/*#__PURE__*/_jsx(\"input\",{type:\"range\",min:\"1\",max:\"100\",onChange:function onChange(e){setVolume(e.target.value);}})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"radios-bts\",children:[/*#__PURE__*/_jsx(\"img\",{onClick:function onClick(){backRadioChange(-1);},src:\"./../../../img/icons/radio-back.svg\",alt:\"back radio\"}),/*#__PURE__*/_jsx(\"img\",{onClick:function onClick(){playStatus();},src:\"./../../../img/icons/\".concat(radioStatus,\".svg\"),alt:radioStatus}),/*#__PURE__*/_jsx(\"img\",{onClick:function onClick(){nextRadioChange(1);},src:\"./../../../img/icons/radio-next.svg\",alt:\"next radio\"})]})]})]})]}):/*#__PURE__*/_jsxs(SkeletonTheme,{baseColor:\"var(--8)\",highlightColor:\"var(--11)\",children:[/*#__PURE__*/_jsx(Skeleton,{style:{width:'130px',height:'130px',margin:'10px'}}),/*#__PURE__*/_jsxs(\"div\",{style:{width:'120px',margin:'0 auto',display:'flex',justifyContent:'center',flexDirection:'column'},children:[/*#__PURE__*/_jsx(Skeleton,{style:{width:'90px',height:'16px',margin:'0 auto'}}),/*#__PURE__*/_jsx(Skeleton,{style:{width:'110px',height:'26px',margin:'0px 0px'}}),/*#__PURE__*/_jsx(Skeleton,{style:{width:'110px',height:'10px',margin:'10px 0px'}}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center'},children:[/*#__PURE__*/_jsx(Skeleton,{style:{width:'30px',height:'30px',margin:'0 auto'}}),/*#__PURE__*/_jsx(Skeleton,{style:{width:'50px',height:'50px',margin:'0 2px'}}),/*#__PURE__*/_jsx(Skeleton,{style:{width:'30px',height:'30px',margin:'0 auto'}})]})]})]})});};export default Radio;","map":{"version":3,"names":["useState","useEffect","useRef","Key","Api","Skeleton","SkeletonTheme","Radio","country","listRadio","setListRadio","page","setPage","radioStatus","setRadioStatus","audioRef","volume","setVolume","loading","setLoading","loadRadio","get","then","data","backRadioChange","value","length","nextRadioChange","playStatus","current","play","pause","playRadio","console","log","backgroundImage","img","title","link","width","e","target","height","margin","display","justifyContent","flexDirection","alignItems"],"sources":["/Users/mateusdavila/Desktop/code/intercambio/front/src/components/radio/Radio.js"],"sourcesContent":["import {useState, useEffect, useRef, Key} from 'react'\nimport './Radio.css'\nimport Api from './../../axios/Axios'\nimport Skeleton, { SkeletonTheme } from 'react-loading-skeleton'\n\n\nconst Radio = ({country}) => {\n  const [listRadio,setListRadio] = useState(false)\n  const [page, setPage] = useState(0)\n  const [radioStatus,setRadioStatus] = useState('play')\n  const audioRef = useRef()\n  const [volume,setVolume] = useState(50)\n  const [loading,setLoading] = useState(false)\n\n\nuseEffect(()=>{\n\n      async function loadRadio(){\n        await Api.get(`/radios?countryId=${country}`).then((data)=>{\n          setListRadio(data.data)\n          setLoading(true)\n\n        })\n      }\n\n      loadRadio()\n\n\n},[country])\n\n\n\nfunction backRadioChange(value){\n  if(page-1 ===-1){\n    setPage(listRadio.length-1)\n  } else{setPage(page+(value))}\n\n}\n\nfunction nextRadioChange(value){\n  if(page+1 === listRadio.length){\n    setPage(0)\n  } else{setPage(page+(value))}\n\n}\n\nfunction playStatus(){\n  if(radioStatus=='play'){\n    setRadioStatus('pause')\n    audioRef.current.play()\n  } else{\n    setRadioStatus('play')\n    audioRef.current.pause()\n\n  }\n}\n\n\nfunction playRadio(){\n  console.log('teste')\n  \n}\n\nuseEffect(()=>{\n  if(audioRef.current){\n    audioRef.current.volume = volume/100\n\n  }\n\n},[volume])\n\n\nreturn (\n  <div className='radio-box'>\n    {listRadio.length> 0 ? \n    <>\n      <div style={{backgroundImage: `url(\"${listRadio[page].img}\")`}} className='radio-img'></div>\n      <div className=\"radio-controls\">\n        <p>VocÃª esta ouvindo</p>\n        <h5>{listRadio[page].title}</h5>\n        <div className=\"radios-btns-controler\">\n          <div className=\"radio-volume\">\n                   <audio ref={audioRef}   >\n                     <source   src={listRadio[0].link} />\n                   </audio>\n                   <div className='radio-volume-bg'>\n                    <div style={{width: volume + '%'}} className=\"radio-volume-barra\"></div>\n                  <input  type=\"range\" min=\"1\" max=\"100\"   onChange={(e)=>{setVolume(e.target.value)}}/> \n                   </div>\n          </div>\n          <div className=\"radios-bts\">\n            <img onClick={()=>{backRadioChange(-1)}}src=\"./../../../img/icons/radio-back.svg\" alt=\"back radio\" />\n            <img onClick={()=>{playStatus()}} src={`./../../../img/icons/${radioStatus}.svg`} alt={radioStatus} />\n            <img onClick={()=>{nextRadioChange(1)}} src=\"./../../../img/icons/radio-next.svg\" alt=\"next radio\" />\n          </div>\n        </div>\n      </div>\n      </>\n      :\n      <SkeletonTheme baseColor=\"var(--8)\" highlightColor=\"var(--11)\">\n          <Skeleton style={{width:'130px',height:'130px',margin:'10px'}}/>\n          <div style={{width:'120px', margin:'0 auto', display:'flex', justifyContent:'center',flexDirection:'column'}}>\n            <Skeleton style={{width:'90px',height:'16px',margin:'0 auto'}}/>\n            <Skeleton style={{width:'110px',height:'26px',margin:'0px 0px'}}/>\n            <Skeleton style={{width:'110px',height:'10px',margin:'10px 0px'}}/>\n            <div style={{display:'flex', alignItems:'center'}}>\n            <Skeleton style={{width:'30px',height:'30px',margin:'0 auto'}}/>\n            <Skeleton style={{width:'50px',height:'50px',margin:'0 2px'}}/>\n            <Skeleton style={{width:'30px',height:'30px',margin:'0 auto'}}/>\n\n            </div>\n\n          </div>\n    </SkeletonTheme>\n      \n      }\n    </div>\n  )\n}\n\nexport default Radio"],"mappings":"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"},"metadata":{},"sourceType":"module"}