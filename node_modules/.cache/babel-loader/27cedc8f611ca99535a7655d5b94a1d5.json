{"ast":null,"code":"import _regeneratorRuntime from\"/Users/mateusdavila/Desktop/code/intercambio/front/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/mateusdavila/Desktop/code/intercambio/front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/mateusdavila/Desktop/code/intercambio/front/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import Api from'../../axios/Axios';import BlogDashboard from'../../components/blog/BlogDashboard';import{useState,useEffect}from'react';import'./home.css';import WeatherComponet from'../../components/weather/WeatherComponet';import Radio from'./../../components/radio//Radio';import Money from'./../../components/money/Money';import ToDoList from'../../components/toDoList/ToDoListDashboard';import Ads from'./../../components/ads/Ads';import Seach from'./../../components/search/Seach';import Finance from'./../../components/finance/Finance';import Study from'./../../components/study/Study';import DaysToTravel from'../../components/daysToTravel/DaysToTravel';import InforsBtns from'../../components/inforsBtns/InforsBtns';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Home=function Home(){var local=localStorage.getItem('token');var session=sessionStorage.getItem('token');var _useState=useState([]),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var token='';if(!session){if(!local){window.location.href='/login';}else{token=local;sessionStorage.setItem('token',local);}}else{token=session;}useEffect(function(){getOptions();function getOptions(){return _getOptions.apply(this,arguments);}function _getOptions(){_getOptions=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var config;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:config={headers:{Authorization:\"Bearer \".concat(token)}};_context.next=3;return Api.get('/user/useroptions',config).then(function(data){if(!data.data[0]){window.location.href='/createuseroptions';}else{setUser(data.data[0]);}});case 3:case\"end\":return _context.stop();}}},_callee);}));return _getOptions.apply(this,arguments);}},[]);/*\n              <Ads country={user.countryId}/>\n              <Study/>\n\n              <Money/>\n              <Finance goal={user.goal}/>\n              <DaysToTravel when={user.when} city={user.city}/>\n              <InforsBtns/>\n    */return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"home container\",children:[/*#__PURE__*/_jsx(WeatherComponet,{country:user.countryId,city:user.city}),/*#__PURE__*/_jsx(BlogDashboard,{countryId:user.countryId}),/*#__PURE__*/_jsx(Radio,{country:user.countryId}),/*#__PURE__*/_jsx(ToDoList,{})]})});};export default Home;","map":{"version":3,"names":["Api","BlogDashboard","useState","useEffect","WeatherComponet","Radio","Money","ToDoList","Ads","Seach","Finance","Study","DaysToTravel","InforsBtns","Home","local","localStorage","getItem","session","sessionStorage","user","setUser","token","window","location","href","setItem","getOptions","config","headers","Authorization","get","then","data","countryId","city"],"sources":["/Users/mateusdavila/Desktop/code/intercambio/front/src/pages/home/Home.js"],"sourcesContent":["import Api from '../../axios/Axios'\nimport BlogDashboard from '../../components/blog/BlogDashboard';\nimport {useState, useEffect} from 'react'\nimport './home.css'\nimport WeatherComponet from '../../components/weather/WeatherComponet';\nimport Radio from './../../components/radio//Radio'\nimport Money from './../../components/money/Money'\nimport ToDoList from '../../components/toDoList/ToDoListDashboard';\nimport Ads from './../../components/ads/Ads'\nimport Seach from './../../components/search/Seach'\nimport Finance from './../../components/finance/Finance'\nimport Study from './../../components/study/Study'\nimport DaysToTravel from '../../components/daysToTravel/DaysToTravel';\nimport InforsBtns from '../../components/inforsBtns/InforsBtns';\n\nconst Home = () => {\n\n    const local = localStorage.getItem('token');\n    const session = sessionStorage.getItem('token');\n    const [user,setUser] = useState([])\n    let token = ''\n\n    if(!session){\n        if(!local){\n            window.location.href = '/login'\n        } else{\n          token = local\n            sessionStorage.setItem('token',local)\n        }\n    } else{\n      token = session\n\n\n\n      \n    }\n    \n    useEffect(()=>{\n      getOptions()\n      async function getOptions(){\n        const config = {\n          headers: { Authorization: `Bearer ${token}` }\n      };\n        await Api.get('/user/useroptions', config).then((data)=>{\n          if(!data.data[0]){\n            window.location.href = '/createuseroptions'\n          } else{\n            setUser(data.data[0])\n\n          }\n        })\n      }\n    },[])\n\n\n    /*\n              <Ads country={user.countryId}/>\n              <Study/>\n\n              <Money/>\n              <Finance goal={user.goal}/>\n              <DaysToTravel when={user.when} city={user.city}/>\n              <InforsBtns/>\n    */\n\n   \n\n  return (\n    <>  \n\n        <div className='home container'>\n          <WeatherComponet country={user.countryId} city={user.city}/>\n          <BlogDashboard countryId={user.countryId}/>\n          <Radio country={user.countryId}/>\n          <ToDoList/>\n        </div>\n    </>\n  )\n}\n\nexport default Home"],"mappings":"waAAA,MAAOA,IAAP,KAAgB,mBAAhB,CACA,MAAOC,cAAP,KAA0B,qCAA1B,CACA,OAAQC,QAAR,CAAkBC,SAAlB,KAAkC,OAAlC,CACA,MAAO,YAAP,CACA,MAAOC,gBAAP,KAA4B,0CAA5B,CACA,MAAOC,MAAP,KAAkB,iCAAlB,CACA,MAAOC,MAAP,KAAkB,gCAAlB,CACA,MAAOC,SAAP,KAAqB,6CAArB,CACA,MAAOC,IAAP,KAAgB,4BAAhB,CACA,MAAOC,MAAP,KAAkB,iCAAlB,CACA,MAAOC,QAAP,KAAoB,oCAApB,CACA,MAAOC,MAAP,KAAkB,gCAAlB,CACA,MAAOC,aAAP,KAAyB,4CAAzB,CACA,MAAOC,WAAP,KAAuB,wCAAvB,C,6IAEA,GAAMC,KAAI,CAAG,QAAPA,KAAO,EAAM,CAEf,GAAMC,MAAK,CAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd,CACA,GAAMC,QAAO,CAAGC,cAAc,CAACF,OAAf,CAAuB,OAAvB,CAAhB,CACA,cAAuBf,QAAQ,CAAC,EAAD,CAA/B,wCAAOkB,IAAP,eAAYC,OAAZ,eACA,GAAIC,MAAK,CAAG,EAAZ,CAEA,GAAG,CAACJ,OAAJ,CAAY,CACR,GAAG,CAACH,KAAJ,CAAU,CACNQ,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAuB,QAAvB,CACH,CAFD,IAEM,CACJH,KAAK,CAAGP,KAAR,CACEI,cAAc,CAACO,OAAf,CAAuB,OAAvB,CAA+BX,KAA/B,EACH,CACJ,CAPD,IAOM,CACJO,KAAK,CAAGJ,OAAR,CAKD,CAEDf,SAAS,CAAC,UAAI,CACZwB,UAAU,GADE,QAEGA,WAFH,0IAEZ,gJACQC,MADR,CACiB,CACbC,OAAO,CAAE,CAAEC,aAAa,kBAAYR,KAAZ,CAAf,CADI,CADjB,uBAIQtB,IAAG,CAAC+B,GAAJ,CAAQ,mBAAR,CAA6BH,MAA7B,EAAqCI,IAArC,CAA0C,SAACC,IAAD,CAAQ,CACtD,GAAG,CAACA,IAAI,CAACA,IAAL,CAAU,CAAV,CAAJ,CAAiB,CACfV,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAuB,oBAAvB,CACD,CAFD,IAEM,CACJJ,OAAO,CAACY,IAAI,CAACA,IAAL,CAAU,CAAV,CAAD,CAAP,CAED,CACF,CAPK,CAJR,uDAFY,6CAeb,CAfQ,CAeP,EAfO,CAAT,CAkBA;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAIE,mBACE,sCAEI,aAAK,SAAS,CAAC,gBAAf,wBACE,KAAC,eAAD,EAAiB,OAAO,CAAEb,IAAI,CAACc,SAA/B,CAA0C,IAAI,CAAEd,IAAI,CAACe,IAArD,EADF,cAEE,KAAC,aAAD,EAAe,SAAS,CAAEf,IAAI,CAACc,SAA/B,EAFF,cAGE,KAAC,KAAD,EAAO,OAAO,CAAEd,IAAI,CAACc,SAArB,EAHF,cAIE,KAAC,QAAD,IAJF,GAFJ,EADF,CAWD,CA/DD,CAiEA,cAAepB,KAAf"},"metadata":{},"sourceType":"module"}