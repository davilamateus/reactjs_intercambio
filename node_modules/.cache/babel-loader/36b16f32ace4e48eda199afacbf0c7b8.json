{"ast":null,"code":"import _regeneratorRuntime from\"/Users/mateusdavila/Desktop/code/intercambio/front/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/mateusdavila/Desktop/code/intercambio/front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/mateusdavila/Desktop/code/intercambio/front/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from'react';import'./Study.css';import Api from'./../../axios/Axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Study=function Study(){var _useState=useState(undefined),_useState2=_slicedToArray(_useState,2),listStudy=_useState2[0],setListStudy=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),itemCount=_useState4[0],setItemCount=_useState4[1];var _useState5=useState(1),_useState6=_slicedToArray(_useState5,2),page=_useState6[0],setPage=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),responserStatus=_useState8[0],setResponserStatus=_useState8[1];var synth=window.speechSynthesis;function speak(value){var text=value.split('');var index=text.findIndex(function(item){return item=='“';});var text2=text.slice(index,1000);var text3=text2.join('');var voices=synth.getVoices();var utterThis=new SpeechSynthesisUtterance(text3);utterThis.lang='en-US';utterThis.voice=voices[15];if(synth.speaking){synth.cancel();}utterThis.addEventListener('error',function(){console.error('SpeechSynthesisUtterance error');});utterThis.rate=0.6;synth.speak(utterThis);}var token=sessionStorage.getItem('token');function loadList(){return _loadList.apply(this,arguments);}function _loadList(){_loadList=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var customConfig;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:customConfig={headers:{'Content-Type':'application/json',\"authorization\":\"Bearer \".concat(token)}};_context.next=3;return Api.get(\"/study?page=\".concat(page),customConfig).then(function(data){setListStudy(data.data);});case 3:case\"end\":return _context.stop();}}},_callee);}));return _loadList.apply(this,arguments);}useEffect(function(){loadList();},[]);function editStudy(_x){return _editStudy.apply(this,arguments);}function _editStudy(){_editStudy=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(level){var body,_token,customConfig;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:setResponserStatus(false);if(!(itemCount==19)){_context2.next=6;break;}loadList();setItemCount(0);_context2.next=13;break;case 6:setItemCount(itemCount+1);body={level:level,questionId:listStudy[itemCount].id};_token=sessionStorage.getItem('token');customConfig={headers:{'Content-Type':'application/json',\"authorization\":\"Bearer \".concat(_token)}};console.log(customConfig);_context2.next=13;return Api.patch(\"/study\",body,customConfig).then(function(data){console.log(data);});case 13:case\"end\":return _context2.stop();}}},_callee2);}));return _editStudy.apply(this,arguments);}return/*#__PURE__*/_jsxs(\"div\",{className:\"study-box\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"box-header\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Pratique o seu ingl\\xEAs\"}),/*#__PURE__*/_jsx(\"img\",{src:\"./../../../img/icons/btnpurper.svg\",alt:\"Adicionar\"})]}),listStudy!==undefined?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"study-container\",children:[responserStatus===true?/*#__PURE__*/_jsx(\"p\",{children:listStudy[itemCount].portuguese}):/*#__PURE__*/_jsx(\"p\",{}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:listStudy[itemCount].english}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){speak(listStudy[itemCount].english);},className:\"study-listen\",children:/*#__PURE__*/_jsx(\"img\",{src:\"./../../../img/icons/iconlisten.svg\"})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"study-btn-levels\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"study-btn-trans\",onClick:function onClick(){setResponserStatus(true);},children:\"Ver tradu\\xE7\\xE3o\"}),/*#__PURE__*/_jsx(\"button\",{className:\"study-btn-hard\",onClick:function onClick(){editStudy(2);},children:\"Dificl\"}),/*#__PURE__*/_jsx(\"button\",{className:\"study-btn-medium\",onClick:function onClick(){editStudy(1);},children:\"M\\xE9dio\"}),/*#__PURE__*/_jsx(\"button\",{className:\"study-btn-easy\",onClick:function onClick(){editStudy(0);},children:\"F\\xE1cil\"})]})]})}):/*#__PURE__*/_jsx(_Fragment,{})]});};export default Study;","map":{"version":3,"names":["useEffect","useState","Api","Study","undefined","listStudy","setListStudy","itemCount","setItemCount","page","setPage","responserStatus","setResponserStatus","synth","window","speechSynthesis","speak","value","text","split","index","findIndex","item","text2","slice","text3","join","voices","getVoices","utterThis","SpeechSynthesisUtterance","lang","voice","speaking","cancel","addEventListener","console","error","rate","token","sessionStorage","getItem","loadList","customConfig","headers","get","then","data","editStudy","level","body","questionId","id","log","patch","portuguese","english"],"sources":["/Users/mateusdavila/Desktop/code/intercambio/front/src/components/study/Study.js"],"sourcesContent":["import {useEffect,useState} from 'react'\nimport './Study.css'\nimport Api from './../../axios/Axios'\n\n\nconst Study = () => {\n\n  const [listStudy, setListStudy] = useState(undefined);\n  const [itemCount,setItemCount]= useState(0)\n  const [page,setPage]= useState(1)\n  const [responserStatus, setResponserStatus] = useState(false)\n\n\n\n  \n  const synth = window.speechSynthesis;\n  \n  \n  function speak(value) {\n    const text = value.split('')\n    const index = text.findIndex((item) => item == '“')\n    const text2 = text.slice(index,1000)\n    const text3 = (text2.join(''))\n\n    \n    const voices = synth.getVoices();\n    const utterThis = new SpeechSynthesisUtterance(text3);\n    utterThis.lang = 'en-US';\n    utterThis.voice = voices[15];\n    if (synth.speaking) {\n      synth.cancel();\n    }\n    utterThis.addEventListener('error', () => {\n      console.error('SpeechSynthesisUtterance error');\n    });\n    utterThis.rate = 0.6;\n    synth.speak(utterThis);\n\n  }\n\n  const token = sessionStorage.getItem('token');\n  async function loadList(){\n\n    const customConfig = {\n      headers: {\n      'Content-Type': 'application/json',\n      \"authorization\" : `Bearer ${token}`\n      }\n  };\n    await Api.get(`/study?page=${page}`,customConfig).then((data)=>{\n      \n      setListStudy(data.data)\n      \n    })\n  }\n  useEffect(()=>{\n\n\n    loadList()\n    \n    \n  },[])\n  \n  async function editStudy(level){\n    setResponserStatus(false)\n    if(itemCount == 19){\n      loadList()\n      setItemCount(0)\n    } else{\n      setItemCount(itemCount+1)\n  \n      const body = {level: level, questionId:listStudy[itemCount].id}\n  \n      const token = sessionStorage.getItem('token');\n      const customConfig = {\n        headers: {\n          'Content-Type': 'application/json',\n          \"authorization\" : `Bearer ${token}`\n        }\n      };\n      console.log(customConfig)\n      await Api.patch(`/study`,body, customConfig).then((data)=>{\n        \n        console.log(data)\n      \n      })\n\n    }\n  }\n\n\n\n\n  return (\n    <div className='study-box'>\n                 <div className=\"box-header\">\n                <h5>Pratique o seu inglês</h5>\n                <img src=\"./../../../img/icons/btnpurper.svg\" alt=\"Adicionar\" />\n          </div>\n          {listStudy !== undefined? <>\n          \n            <div>\n              <div className='study-container'>\n                  {responserStatus === true? <p>{listStudy[itemCount].portuguese}</p>: <p></p>}\n                  <div>\n                      <h2>{listStudy[itemCount].english}</h2>\n                      <button onClick={()=>{speak(listStudy[itemCount].english)}} className=\"study-listen\">\n                           <img src=\"./../../../img/icons/iconlisten.svg\" />\n                      </button>\n\n                  </div>\n              </div>\n              <div className=\"study-btn-levels\">\n                  <button className='study-btn-trans' onClick={()=>{setResponserStatus(true)}}>Ver tradução</button>\n                  <button className='study-btn-hard' onClick={()=>{editStudy(2)}}>Dificl</button>\n                  <button className='study-btn-medium' onClick={()=>{editStudy(1)}}>Médio</button>\n                  <button  className='study-btn-easy'onClick={()=>{editStudy(0)}}>Fácil</button>\n\n              </div>\n            </div>\n\n          </>\n          \n          \n          \n          \n          :<></>}\n    </div>\n  )\n}\n\nexport default Study"],"mappings":"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"},"metadata":{},"sourceType":"module"}