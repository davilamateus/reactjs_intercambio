{"ast":null,"code":"import { createSlice } from '@reduxjs/toolkit';\nimport { useState, useEffect } from 'react';\nimport Api from '../axios/Axios';\nconst getUser = [];\nconst local = localStorage.getItem('token');\nconst session = sessionStorage.getItem('token');\nlet token = '';\n\nif (!session) {\n  if (!local) {\n    window.location.href = '/login';\n  } else {\n    token = local;\n    sessionStorage.setItem('token', local);\n  }\n} else {\n  token = session;\n}\n\nasync function getOptions() {\n  const config = {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  };\n  await Api.get('/user/useroptions', config).then(data => {\n    if (!data.data[0]) {\n      window.location.href = '/createuseroptions';\n    } else {\n      return data.data;\n    }\n  });\n}\n\nconst userSlice = createSlice({\n  name: 'user',\n  getUser,\n  reducers: {\n    increment: () => {\n      getOptions();\n    }\n  }\n});\nexport const {\n  increment\n} = userSlice.actions;\nexport default userSlice.reducer;","map":{"version":3,"names":["createSlice","useState","useEffect","Api","getUser","local","localStorage","getItem","session","sessionStorage","token","window","location","href","setItem","getOptions","config","headers","Authorization","get","then","data","userSlice","name","reducers","increment","actions","reducer"],"sources":["/Users/mateusdavila/Desktop/code/intercambio/front/src/features/userSlice.js"],"sourcesContent":["import {createSlice} from '@reduxjs/toolkit';\nimport {useState, useEffect} from 'react'\nimport Api from '../axios/Axios';\n\nconst getUser = []\nconst local = localStorage.getItem('token');\nconst session = sessionStorage.getItem('token');\nlet token = ''\n\nif(!session){\n    if(!local){\n        window.location.href = '/login'\n    } else{\n      token = local\n        sessionStorage.setItem('token',local)\n    }\n} else{\n  token = session\n}\n\nasync function getOptions(){\n    const config = {\n      headers: { Authorization: `Bearer ${token}` }\n  };\n    await Api.get('/user/useroptions', config).then((data)=>{\n      if(!data.data[0]){\n        window.location.href = '/createuseroptions'\n      } else{\n        return data.data\n      }\n    })\n  }\nconst userSlice = createSlice({\n    name:'user',\n    getUser,\n    reducers:{\n        increment:()=>{\n            getOptions();\n        }\n    }\n})\nexport const {increment} = userSlice.actions;\nexport default userSlice.reducer;"],"mappings":"AAAA,SAAQA,WAAR,QAA0B,kBAA1B;AACA,SAAQC,QAAR,EAAkBC,SAAlB,QAAkC,OAAlC;AACA,OAAOC,GAAP,MAAgB,gBAAhB;AAEA,MAAMC,OAAO,GAAG,EAAhB;AACA,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd;AACA,MAAMC,OAAO,GAAGC,cAAc,CAACF,OAAf,CAAuB,OAAvB,CAAhB;AACA,IAAIG,KAAK,GAAG,EAAZ;;AAEA,IAAG,CAACF,OAAJ,EAAY;EACR,IAAG,CAACH,KAAJ,EAAU;IACNM,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,QAAvB;EACH,CAFD,MAEM;IACJH,KAAK,GAAGL,KAAR;IACEI,cAAc,CAACK,OAAf,CAAuB,OAAvB,EAA+BT,KAA/B;EACH;AACJ,CAPD,MAOM;EACJK,KAAK,GAAGF,OAAR;AACD;;AAED,eAAeO,UAAf,GAA2B;EACvB,MAAMC,MAAM,GAAG;IACbC,OAAO,EAAE;MAAEC,aAAa,EAAG,UAASR,KAAM;IAAjC;EADI,CAAf;EAGA,MAAMP,GAAG,CAACgB,GAAJ,CAAQ,mBAAR,EAA6BH,MAA7B,EAAqCI,IAArC,CAA2CC,IAAD,IAAQ;IACtD,IAAG,CAACA,IAAI,CAACA,IAAL,CAAU,CAAV,CAAJ,EAAiB;MACfV,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,oBAAvB;IACD,CAFD,MAEM;MACJ,OAAOQ,IAAI,CAACA,IAAZ;IACD;EACF,CANK,CAAN;AAOD;;AACH,MAAMC,SAAS,GAAGtB,WAAW,CAAC;EAC1BuB,IAAI,EAAC,MADqB;EAE1BnB,OAF0B;EAG1BoB,QAAQ,EAAC;IACLC,SAAS,EAAC,MAAI;MACVV,UAAU;IACb;EAHI;AAHiB,CAAD,CAA7B;AASA,OAAO,MAAM;EAACU;AAAD,IAAcH,SAAS,CAACI,OAA9B;AACP,eAAeJ,SAAS,CAACK,OAAzB"},"metadata":{},"sourceType":"module"}